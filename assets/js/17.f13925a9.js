(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{787:function(s,a,n){"use strict";n.r(a);var e=n(5),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("img",{attrs:{src:"https://luomuxiaoxiao.com/images/got_plt.gif",alt:""}})]),s._v(" "),n("h2",{attrs:{id:"ä¸€ã€å‹•æ…‹éˆæ¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å‹•æ…‹éˆæ¥"}},[s._v("#")]),s._v(" ä¸€ã€å‹•æ…‹éˆæ¥")]),s._v(" "),n("p",[s._v("åœ¨å‰é¢å¹¾ç¯‡ï¼Œæˆ‘å€‘è¬›çš„éˆæ¥éƒ½æ˜¯å±¬æ–¼éœæ…‹éˆæ¥(static linking)ï¼Œéˆæ¥(linking)æ˜¯æŒ‡è®“ä¸€éš»ç¨‹å¼åœ¨å‘¼å«å‡½æ•¸æˆ–ä½¿ç”¨å¤–éƒ¨è®Šæ•¸æ™‚çŸ¥é“è¦å¾€å“ªè£¡æ‰¾ã€‚ä½†æ˜¯åœ¨å¯¦éš›æ‡‰ç”¨ä¸­ï¼Œå‹•æ…‹éˆæ¥(dynamic linking) è¼ƒå¸¸è¢«ä½¿ç”¨ï¼Œä¸€å€‹ä¾‹å­å°±æ˜¯Cèªè¨€<stdio.h>ä¸­çš„ printf()ï¼Œå¦‚æœç³»çµ±ä¸­æ‰€æœ‰è¦å°çµ‚ç«¯è¼¸å‡ºå­—ä¸²çš„ç¨‹å¼éƒ½æŠŠprintfçš„ç¨‹å¼ç¢¼åŒ…å«é€²åŸå§‹ç¢¼å†ç·¨è­¯ï¼Œä¸åƒ…æœƒæµªè²»ç£ç¢Ÿç©ºé–“ï¼ˆå„²å­˜äº†ä¸€å¤§å †printfï¼‰ï¼Œç¨‹å¼åŒæ™‚åŸ·è¡Œæ™‚ä¸»è¨˜æ†¶é«”ä¹Ÿå°±è¢«å¾ˆå¤šå€‹ printf å‡½æ•¸æ‰€ä½”ç”¨ã€‚æ›å¥è©±èªªï¼Œå¦‚æœéˆæ¥å™¨ä»¥éœæ…‹éˆæ¥çš„æ–¹å¼ï¼Œ"),n("mark",[s._v("åœ¨è¨˜æ†¶é«”å…§å°±æœƒå­˜åœ¨å¾ˆå¤š printf çš„æ‹·è²ï¼Œé‚£ç‚ºä½•ä¸ä¹¾è„†ç”¨ä¸€ä»½é‡è¤‡ä½¿ç”¨å°±å¥½å‘¢ ?")])]),s._v(" "),n("p",[s._v("éœæ…‹éˆçµï¼Œéˆçµå¾Œçš„å¯åŸ·è¡Œæ–‡ä»¶å­˜åœ¨å¤§é‡æ‹·è²ç¨‹å¼ç¢¼ï¼Œæµªè²»ç¡¬ç¢Ÿç©ºé–“ï¼ŒåŸ·è¡Œæ™‚æµªè²»è¨˜æ†¶é«”")]),s._v(" "),n("Mermaid",{attrs:{id:"mermaid-382ee147","data-code":"graph%20TD%0A%20%20%20%20subgraph%20pa%5Bs1.o%5D%0A%20%20%20%20%20%20%20%20p1(s1.o%20%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20%20%20%20%20s1(printf%20%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20pb%5Bs2.o%5D%0A%20%20%20%20%20%20%20%20p2(s2.o%20%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20%20%20%20%20s2(printf%20%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20pc%5Bs3.o%5D%0A%20%20%20%20%20%20%20%20p3(s3.o%20%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20%20%20%20%20s3(printf%20%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20final%5Bprogram%5D%0A%20%20%20%20%20%20%20%20pp(s1.o%2C%20s2.o%2C%20s3.o%20%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20%20%20%20%20s4(s1.o%20printf%20%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20%20%20%20%20s5(s2.o%20printf%20%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20%20%20%20%20s6(s3.o%20printf%20%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20end%0A%0A%20%20%20%20p1%20--%3E%20pp%0A%20%20%20%20p2%20--%3E%20pp%0A%20%20%20%20p3%20--%3E%20pp%0A%0A%20%20%20%20s1%20--%3E%20s4%0A%20%20%20%20s2%20--%3E%20s5%0A%20%20%20%20s3%20--%3E%20s6%0A"}}),n("p",[s._v("ç•¶ä½¿ç”¨å‹•æ…‹éˆçµæŠ€è¡“æ™‚ï¼Œç•¶ä½¿ç”¨åˆ° "),n("code",[s._v("printf")]),s._v(" æ™‚ï¼Œæ‰å»åšå‹•æ…‹éˆçµåˆ°è©²ç¨‹å¼ç¢¼å€æ®µï¼Œå» libc.so çš„ printf çš„ç¨‹å¼ç¢¼åŸ·è¡Œå¾Œè¿”å›ã€‚å‹•æ…‹éˆæ¥å¯ä»¥ä½¿å¾—å¤šå€‹ç¨‹å¼å…±ç”¨å‡½æ•¸ï¼Œé€²è€Œå¾—åˆ°ç¯€çœè¨˜æ†¶é«”çš„æ•ˆæœã€‚å¦å¤–ï¼Œåœ¨ç¨‹å¼åŸ·è¡ŒæœŸæ‰åšå‡½æ•¸åœ°å€è§£æçš„æ–¹æ³•ï¼Œç¨±ç‚ºå‹•æ…‹éˆæ¥ï¼Œä¹Ÿç¨±ç‚ºå»¶é²ç¶å®š(Lazy binding)ã€‚")]),s._v(" "),n("Mermaid",{attrs:{id:"mermaid-382ee14b","data-code":"graph%20TD%0A%20%20%20%20subgraph%20pa%5Bs1.o%5D%0A%20%20%20%20%20%20%20%20p1(s1.o%20%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BC%8F%E7%A2%BC%20%2B%20%E5%BC%95%E7%94%A8%20printf)%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20pb%5Bs2.o%5D%0A%20%20%20%20%20%20%20%20p2(s2.o%20%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BC%8F%E7%A2%BC%20%2B%20%E5%BC%95%E7%94%A8%20printf)%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20pc%5Bs3.o%5D%0A%20%20%20%20%20%20%20%20p3(s3.o%20%E7%A8%8B%E5%BC%8F%E7%A2%BC%20%2B%20%E5%BC%95%E7%94%A8%20printf)%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20final%5Bprogram%5D%0A%20%20%20%20%20%20%20%20pp(s1.o%2C%20s2.o%2C%20s3.o%20%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BC%8F%E7%A2%BC)%0A%20%20%20%20%20%20%20%20need(%E5%BC%95%E7%94%A8%E5%88%B0%20printf)%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20lib.so%0A%20%20%20%20%20%20%20%20printf%0A%20%20%20%20end%20%0A%0A%20%20%20%20need%20--%3E%20printf%20%0A%20%20%20%20p1%20--%3E%20pp%0A%20%20%20%20p2%20--%3E%20pp%0A%20%20%20%20p3%20--%3E%20pp%0A"}}),n("p",[s._v("æ‰€ä»¥èªªæ¯”è¼ƒæœ‰æ•ˆç‡çš„æ–¹å¼æ˜¯è®“ç³»çµ±çš„ä¸»è¨˜æ†¶é«”åªå­˜è‘—ä¸€ä»½printfå‡½æ•¸ï¼Œå…¶ä»–æ‰€æœ‰ç¨‹å¼è¦è¼¸å‡ºå­—ä¸²æ™‚è®“CPUè·³åˆ°å”¯ä¸€å­˜æ”¾printfçš„åœ°æ–¹åŸ·è¡Œï¼ŒçµæŸå†è·³å›åŸä¾†çš„ç¨‹å¼å°±è¡Œäº†ã€‚"),n("mark",[s._v("ä¹‹æ‰€ä»¥å«åšå‹•æ…‹ï¼Œå°±æ˜¯å› ç‚ºç¨‹å¼ç·¨è­¯æ™‚ï¼Œä¸¦ä¸æœƒçŸ¥é“æ‰€å‘¼å«çš„å‡½æ•¸åœ¨å“ªè£¡ï¼Œç„¡æ³•åœ¨ç·¨è­¯æ™‚ã€Œéˆæ¥ã€ï¼Œåªèƒ½åœ¨ç¨‹å¼å¾ç¡¬ç¢Ÿè¼‰å…¥è¨˜æ†¶é«”æ™‚å‹•æ…‹åœ°åœ¨ç³»çµ±çš„å¹«åŠ©ä¸‹å®Œæˆéˆæ¥ã€‚")])]),s._v(" "),n("p",[s._v("ç‚ºäº†ä¿è­‰ç¨‹å¼ç¢¼é‡è¤‡ä½¿ç”¨å’Œç¯€çœç³»çµ±è³‡æºï¼Œåœ¨éˆæ¥æ™‚ï¼Œå‹•æ…‹éˆæ¥åº«çš„ .rodata section å’Œ .data section ç­‰æ˜¯ä¸æœƒè¢«è¤‡è£½åˆ°æœ€çµ‚ç”Ÿæˆçš„å¯åŸ·è¡Œæª”æ¡ˆä¸­ï¼Œé€™äº›éƒ¨åˆ†æœƒåœ¨ç¨‹åºè¼‰å…¥çš„æ™‚å€™è¤‡è£½åˆ°è¨˜æ†¶é«”ï¼Œä¸¦åšå‹•æ…‹éˆæ¥ï¼Œä½¿åŸä¾†å¯åŸ·è¡Œæ–‡ä»¶èƒ½å¤ å°å…¶ä¸­å®šç¾©çš„ç¬¦è™Ÿæ­£å¸¸å¼•ç”¨ã€‚ä¹Ÿå°±æ˜¯èªªåœ¨é€™å€‹æ™‚å€™ï¼Œå¯åŸ·è¡Œæª”æ¡ˆçš„ç¨‹å¼ç¢¼å€æ®µ(.text section)ä¸­å°å‹•æ…‹éˆæ¥å‡½å¼åº«åŒ…å«çš„ç¬¦è™Ÿå¼•ç”¨çš„åœ°å€æ‰çœŸæ­£ç¢ºå®šä¸‹ä¾†ã€‚å¦å¤–å°å‹•æ…‹éˆæ¥é‚„æœ‰ä¸€å€‹å¥½è™•ï¼Œå°±æ˜¯åœ¨æ›´æ–°å‡½å¼åº«çš„æ™‚å€™æ›´æ–¹ä¾¿ï¼Œå› ç‚ºæ˜¯åœ¨åŸ·è¡Œæ™‚æ‰æœƒè§£æå‡½æ•¸åœ°å€ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šä¸ç”¨åƒéœæ…‹éˆçµä¸€æ¨£é‡æ–°ç·¨è­¯ï¼Œç›´æ¥æ›¿æ›å³å¯ã€‚")]),s._v(" "),n("p",[s._v("å¦å¤–ä¸€å€‹å®¹æ˜“ææ··çš„åè©æ˜¯å‹•æ…‹è¼‰å…¥ ( Dynamic Loading )ï¼Œå‹•æ…‹éˆçµæ˜¯æŠŠéœ€è¦çš„å‡½å¼åº«åœ¨è¼‰å…¥æ™‚å°±æ”¾é€²è¨˜æ†¶é«”ã€‚é‚£å‹•æ…‹è¼‰å…¥æ˜¯åˆ©ç”¨ "),n("code",[s._v("dlopen")]),s._v(" åœ¨åŸ·è¡ŒæœŸé–“å‹•æ…‹è¼‰å…¥å‡½å¼åº«åˆ°è¨˜æ†¶é«”ï¼Œå…©è€…çš„å·®åˆ¥æ˜¯åœ¨è¼‰å…¥å‡½å¼åº«çš„æ™‚æ©Ÿé»ã€‚")]),s._v(" "),n("p",[s._v("ç¸½çµå‹•æ…‹éˆæ¥ç›¸å°æ–¼éœæ…‹éˆæ¥çš„å„ªé»")]),s._v(" "),n("ul",[n("li",[s._v("æ›´æ–°å‡½å¼åº«æ›´æ–¹ä¾¿ï¼Œä¸ç”¨é‡æ–°ç·¨è­¯")]),s._v(" "),n("li",[s._v("çœç¡¬ç¢Ÿã€è¨˜æ†¶é«”ç©ºé–“")])]),s._v(" "),n("h2",{attrs:{id:"äºŒã€å…©å¤§ä¸»è§’-got-å’Œ-plt"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å…©å¤§ä¸»è§’-got-å’Œ-plt"}},[s._v("#")]),s._v(" äºŒã€å…©å¤§ä¸»è§’ - GOT å’Œ PLT")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("GOT (Global Offset Table)")]),s._v(" "),n("p",[s._v("GOTå­˜è‘—å¾ˆå¤šå€‹ä¸€æ¨£å¤§å°çš„å…ƒç´ ï¼Œå½¢æˆä¸€å€‹table(åŸºæœ¬ä¸Šå°±æ˜¯array)ã€‚æ¯å€‹å…ƒç´ éƒ½æ˜¯ä¸€å€‹æŒ‡æ¨™(æ‰€ä»¥èªª32ä½å…ƒæ©Ÿå™¨ä¸€å€‹å…ƒç´ 4å€‹bytesï¼Œ64ä½å…ƒå°±æ˜¯8å€‹bytes)ï¼ŒæŒ‡å‘ç¨‹å¼æ‰€éœ€è¦çš„è®Šæ•¸æˆ–è€…æ˜¯å‡½æ•¸ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç³»çµ±éœ€è¦çš„æŒ‡æ¨™ã€‚"),n("mark",[s._v("ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ä¸€å€‹å­˜æŒ‡å‘å‡½æ•¸ã€è®Šæ•¸æŒ‡æ¨™çš„ä¸€ç¶­é™£åˆ—ã€‚")])])]),s._v(" "),n("li",[n("p",[s._v("PLT (Procedure Linkage Table)")]),s._v(" "),n("p",[s._v("PLTå­˜è‘—å¾ˆå¤šå€‹ä¸€æ¨£å¤§å°çš„å…ƒç´ ï¼Œå½¢æˆä¸€å€‹table(åŸºæœ¬ä¸Šå°±æ˜¯array)ã€‚ "),n("mark",[s._v("æ¯å€‹å…ƒç´ éƒ½æ˜¯ä¸€å°æ®µç¨‹å¼ç¢¼")]),s._v(" ï¼Œç¬¬ä¸€å€‹å…ƒç´ æ˜¯å…¬å…±pltï¼Œè² è²¬å‘¼å«å‹•æ…‹éˆæ¥å™¨ã€‚å¾ç¬¬äºŒå€‹é–‹å§‹æ¯å€‹å…ƒç´ åˆ†åˆ¥å°æ‡‰åˆ°ä¸€å€‹å‹•æ…‹éˆæ¥çš„å‡½æ•¸ï¼Œæœƒä½¿ç”¨è©²å‡½æ•¸æ‰€å°æ‡‰ä¹‹GOTå…ƒç´ ã€‚")])])]),s._v(" "),n("p",[s._v("ä»¥ä¸Šå…©å€‹ä¸»è§’çš„å…§å®¹ï¼Œä¹‹å¾Œæœƒç”¨ "),n("code",[s._v("Debugger")]),s._v(" æ­é… "),n("code",[s._v("readelf")]),s._v(" å±•ç¤ºçµ¦å¤§å®¶çœ‹ã€‚")]),s._v(" "),n("p",[s._v("printf çš„å‹•æ…‹éˆæ¥æµç¨‹å¦‚ä¸‹")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img.cntofu.com/book/note/linked_and_loader/images/plt_after.png",alt:""}})]),s._v(" "),n("Mermaid",{attrs:{id:"mermaid-382ee200","data-code":"graph%20LR%0A%20%20%20%20printf%5B%22call%20printf%22%5D%20--%3E%20PLT%20--%3E%7C%E5%8E%BB%E6%9F%A5%20GOT%20%E5%B0%8D%E6%87%89%E7%B4%A2%E5%BC%95%E7%9A%84%E9%A0%85%E7%9B%AE%7C%20GOT%0A%20%20%20%20GOT%20--%3E%20add%7B%E8%A9%B2%E9%A0%85%E6%9C%89%E5%87%BD%E6%95%B8%E5%9C%B0%E5%9D%80%3F%7D%20--%3E%7CYes%7C%20Success(%E8%B7%B3%E5%88%B0%E8%A9%B2%E5%87%BD%E6%95%B8%E5%9C%B0%E5%9D%80%E5%9F%B7%E8%A1%8C)%0A%20%20%20%20add%20--%3E%20%7CNo%7C%20fail%5B_dl_runtime_resolve%5D%20--%3E%20update%5B%E6%9B%B4%E6%96%B0%20GOT%20table%20%E5%B0%8D%E6%87%89%E7%B4%A2%E5%BC%95%E8%A9%B2%E5%89%9B%E5%89%9B%E8%A7%A3%E6%9E%90%E7%9A%84%E5%87%BD%E6%95%B8%E5%9C%B0%E5%9D%80%5D%20--%3E%20Success%0A"}}),n("p",[s._v("å¦‚æœå¯«æˆ pseudo code ( æ„Ÿè¬ "),n("a",{attrs:{href:"https://www.usenix.net/sites/default/files/conference/protected-files/sec15_slides_difederico.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("How the ELF ruined Christmas"),n("OutboundLink")],1),s._v("\næä¾›çš„ç¨‹å¼ç¢¼ )")]),s._v(" "),n("div",{staticClass:"language-c line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-c"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" printf@"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("plt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" æ˜¯ç¬¬ä¸€æ¬¡å‘¼å« "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰¾åˆ° printf åœ°å€ï¼Œå°‡åœ°å€æ›´æ–°åˆ° GOT è¡¨ï¼Œå†å‘¼å« PLT")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("_dl_runtime_resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("elf_info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("printf_index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›´æ¥è·³åˆ°æœ‰æ”¾ printf åœ°å€çš„ GOT è¡¨ï¼Œä¸¦è·³åˆ°è©²é …å…§ printf åœ°å€åŸ·è¡Œ")]),s._v("\n                jmp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("printf_got_entry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("ç”±ä¸Šé¢æ‰€è¿°ï¼Œä½ å¯ä»¥ç™¼ç¾ "),n("mark",[s._v("GOT å°±æ˜¯å¿«å–çš„åŠŸèƒ½")]),s._v(" ï¼Œç•¶ GOT è¡¨æ²’æœ‰åœ°å€ (å¿«å–æ²’æœ‰å‘½ä¸­)ï¼Œå°±è¦ç”¨å‹•æ…‹éˆæ¥å™¨å»æ‰¾åœ°å€ä¸¦æ›´æ–° GOT è¡¨ï¼Œé‚£å¦‚æœæœ‰çš„è©±å°±æ˜¯å¿«å–å‘½ä¸­ã€‚å°±ç›´æ¥è·³åˆ°å­˜åœ¨ GOT å…ƒç´ å…§çš„å‡½æ•¸åœ°å€åŸ·è¡Œã€‚å› æ­¤ï¼Œä»¥é€™å€‹æµç¨‹ä¾†èªªï¼Œç¬¬ä¸€æ¬¡è§£æé€šå¸¸æœƒæ¯”è¼ƒæ…¢ï¼Œå› ç‚º GOTè¡¨æ²’æœ‰åœ°å€ï¼Œè¦å‘¼å«å‹•æ…‹éˆæ¥å™¨åŸ·è¡Œåœ°å€è§£æèˆ‡GOTæ›´æ–°ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡å‘¼å«ç›¸åŒçš„å‡½æ•¸æ™‚ï¼Œå› ç‚ºGOTè¡¨å·²ç¶“æœ‰å‡½æ•¸åœ°å€ï¼Œç›´æ¥è·³éå»å‡½æ•¸åœ°å€åŸ·è¡Œå°±å¥½ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡ä¹‹å¾Œé€Ÿåº¦æœƒè®Šæ¯”è¼ƒå¿«ã€‚")]),s._v(" "),n("p",[s._v("å¦‚ä¸‹åœ–ï¼Œä¸‹åœ–å·¦ï¼Œæ˜¯ç¬¬ä¸€æ¬¡ Call functionï¼Œå³æ˜¯ä¹‹å¾Œ Call åŒ functionï¼Œå…¶å¯¦å¯ä»¥ç™¼ç¾ï¼Œç•¶ "),n("mark",[s._v("GOT è‹¥æ˜¯æ²’æœ‰æ”¾è©²å‡½æ•¸åœ°å€æ™‚ï¼Œè£¡é¢çš„å…§å®¹å°±æ˜¯ PLT çš„ä¸‹ä¸€è¡ŒæŒ‡ä»¤ï¼Œä¹‹å¾Œ PLT æœƒè·³åˆ° PLT å…§å‹•æ…‹éˆæ¥çš„ç´¢å¼•å»åŸ·è¡Œå‹•æ…‹éˆæ¥")]),s._v("ï¼Œé€™å¼µåœ–å¾ˆæ¸…æ¥šåœ°æ¶µè“‹æ•´å€‹å‹•æ…‹éˆæ¥çš„ç²¾è¯ã€‚")]),s._v(" "),n("p",[s._v("å¦å¤–ä¸€å¼µåœ–ï¼Œä¹Ÿé—¡è¿°çš„è »æ¸…æ¥šçš„ï¼Œä¾†è‡ª"),n("a",{attrs:{href:"https://hackmd.io/@rhythm/ry5pxN6NI",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux/ELFå‹•æ…‹éˆæ¥éƒ¨åˆ†æ©Ÿåˆ¶(GOT&PLT)"),n("OutboundLink")],1),s._v("ï¼Œéœ€è¦ç…§æ•¸å­—èµ°\n|"),n("img",{attrs:{src:"https://i.imgur.com/sxo16t3.png",alt:""}})]),s._v(" "),n("ol",[n("li",[s._v("call printf å‡½æ•¸ï¼Œè·³åˆ° PLT[1] (2 çš„ä½ç½®)")]),s._v(" "),n("li",[s._v("PLT[1] æ˜¯ä¸€æ®µç¨‹å¼ç¢¼ ( PLT å…§æ¯å€‹å…ƒç´ éƒ½æ˜¯ä¸€äº›è·³è½‰æŒ‡ä»¤ )")]),s._v(" "),n("li",[s._v("ç¨‹å¼ç¢¼ç¬¬ä¸€è¡Œå…ˆè·³åˆ° GOT[2] çš„åœ°å€ï¼Œçœ‹çœ‹ GOT[2] æœ‰æ²’æœ‰å­˜ printf çš„åœ°å€ï¼Œçµæœæ²’æœ‰ printf çš„åœ°å€ï¼Œ GOT[2]è£¡é¢æ”¾çš„æ˜¯ PLT[1] ä¸‹ä¸€è¡Œç¨‹å¼ç¢¼ï¼Œè·³å›å» PLT[1] çš„ä¸‹ä¸€è¡Œç¨‹å¼ç¢¼ (4çš„ä½ç½®)")]),s._v(" "),n("li",[s._v("å†è·³å» PLT[0] ( 5 çš„ä½ç½® )ï¼Œå› ç‚ºé‚£è£¡æœ‰å‹•æ…‹éˆæ¥å™¨çš„åœ°å€")]),s._v(" "),n("li",[s._v("PLT[0] èµ·å§‹åœ°å€")]),s._v(" "),n("li",[s._v("å‘¼å«å‹•æ…‹éˆæ¥å™¨è§£æå‡½æ•¸åœ°å€")]),s._v(" "),n("li",[s._v("æ›´æ–° GOT[2] çš„å…§å®¹è®Šæˆ pritnf çš„åœ°å€")]),s._v(" "),n("li",[s._v("ä»¥å¾Œï¼Œç•¶ call printf æ™‚ï¼Œå» GOT[2] æ‰¾å°±å¯ä»¥ç›´æ¥è·³åˆ° printf çš„åœ°å€åŸ·è¡Œ")])]),s._v(" "),n("p",[s._v("è¬›å®Œäº† printf çš„æ•…äº‹ï¼Œé‚£ç‚ºä½•éœ€è¦ PLT è¡¨æ ¼ ? ç‚ºä½•ä¸ç›´æ¥å» GOT è¡¨æ ¼æ‰¾åœ°å€ï¼Œå¦‚æœGOTè¡¨æ²’æœ‰å­˜å°±ç›´æ¥å«å‹•æ…‹éˆæ¥å™¨å°±å¥½ ?  ç‚ºä½•è¦å¤šæ­¤ä¸€èˆ‰çš„ç¶“é PLT å† GOT ? ğŸ¤”ğŸ¤”ï¼Œé€™å€‹å•é¡Œåœ¨ Stackoverflow æœ‰äººåœ¨è¨è«–ï¼Œåœ¨ "),n("a",{attrs:{href:"http://brandon-hy-lin.blogspot.com/2015/12/shared-library-plt-got.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Shared Library ä¸­ PLT å’Œ GOT çš„ä½¿ç”¨æ©Ÿåˆ¶"),n("OutboundLink")],1),s._v(" å’Œ  "),n("a",{attrs:{href:"https://stackoverflow.com/questions/43048932/why-does-the-plt-exist-in-addition-to-the-got-instead-of-just-using-the-got",target:"_blank",rel:"noopener noreferrer"}},[s._v("Why does the PLT exist in addition to the GOT, instead of just using the GOT?"),n("OutboundLink")],1),s._v("\næœ‰æåˆ°ï¼Œä½†æ˜¯æˆ‘èªç‚ºéƒ½æ²’æœ‰å›ç­”åˆ°é»ä¸ŠğŸ˜‚ï¼Œé€™å€‹å•é¡Œæˆ‘æ”¾åœ¨æœªè§£ä¹‹è¬ã€‚")]),s._v(" "),n("p",[s._v("æ¥ä¸‹ä¾†å°±æ˜¯é‹ç”¨åˆ°æˆ‘å€‘çš„ debugger ä¾†çœ‹å‹•æ…‹éˆæ¥çš„éç¨‹ã€‚")]),s._v(" "),n("h2",{attrs:{id:"ä¸‰ã€debugger-å¯¦é©—"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€debugger-å¯¦é©—"}},[s._v("#")]),s._v(" ä¸‰ã€Debugger å¯¦é©—")]),s._v(" "),n("p",[s._v("åœ¨é€™è£¡æˆ‘å€‘ä½¿ç”¨é€²éšçš„ "),n("code",[s._v("gdb-peda")]),s._v("ï¼Œå› ç‚ºåŸå§‹çš„ "),n("code",[s._v("gdb")]),s._v(" é›–ç„¶å¤ ç”¨ï¼Œä½†æ˜¯ "),n("code",[s._v("gdb-peda")]),s._v(" å¯ä»¥æ›´é‰…ç´°é¡éºçš„å±•ç¤ºå„å€‹æš«å­˜å™¨è³‡è¨Šï¼ŒåŸ·è¡Œç‹€æ…‹ç­‰ï¼Œæ˜¯å€‹å¸¸å¸¸åœ¨é€†å‘å·¥ç¨‹ä½¿ç”¨åˆ°çš„é€²éš debuggerã€‚å®‰è£ä¹Ÿæ˜¯ç²‰ç°¡å–®")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/longld/peda.git ~/peda\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"source ~/peda/peda.py"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.gdbinit\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DONE! debug your program with gdb and enjoy"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("é‚£æˆ‘å€‘å°±ä»¥æ™®é€šçš„ hello world çš„ç¨‹å¼ç¢¼ä¾†åˆ†æå§ ~")]),s._v(" "),n("div",{staticClass:"language-C line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-c"}},[n("code",[n("span",{pre:!0,attrs:{class:"token macro property"}},[n("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),n("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio.h>")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World!\\n"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_3-1-åˆ©ç”¨-readelf-çœ‹-eof-çš„æ ¼å±€åŠé‡å®šä½ç¬¦è™Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-åˆ©ç”¨-readelf-çœ‹-eof-çš„æ ¼å±€åŠé‡å®šä½ç¬¦è™Ÿ"}},[s._v("#")]),s._v(" 3-1. åˆ©ç”¨ Readelf çœ‹ EOF çš„æ ¼å±€åŠé‡å®šä½ç¬¦è™Ÿ")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("readelf -l hello\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Elf file type is DYN (Shared object file)\nEntry point 0x530\nThere are 9 program headers, starting at offset 64\n\nProgram Headers:\n  Type           Offset             VirtAddr           PhysAddr\n                 FileSiz            MemSiz              Flags  Align\n  PHDR           0x0000000000000040 0x0000000000000040 0x0000000000000040\n                 0x00000000000001f8 0x00000000000001f8  R      0x8\n  INTERP         0x0000000000000238 0x0000000000000238 0x0000000000000238\n                 0x000000000000001c 0x000000000000001c  R      0x1\n      [Requesting program interpreter: /lib64/ld-linux-x86-64.so.2]\n  LOAD           0x0000000000000000 0x0000000000000000 0x0000000000000000\n                 0x00000000000008b0 0x00000000000008b0  R E    0x200000\n  LOAD           0x0000000000000db8 0x0000000000200db8 0x0000000000200db8\n                 0x0000000000000258 0x0000000000000260  RW     0x200000\n  DYNAMIC        0x0000000000000dc8 0x0000000000200dc8 0x0000000000200dc8\n                 0x00000000000001f0 0x00000000000001f0  RW     0x8\n  NOTE           0x0000000000000254 0x0000000000000254 0x0000000000000254\n                 0x0000000000000044 0x0000000000000044  R      0x4\n  GNU_EH_FRAME   0x0000000000000768 0x0000000000000768 0x0000000000000768\n                 0x000000000000003c 0x000000000000003c  R      0x4\n  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000\n                 0x0000000000000000 0x0000000000000000  RW     0x10\n  GNU_RELRO      0x0000000000000db8 0x0000000000200db8 0x0000000000200db8\n                 0x0000000000000248 0x0000000000000248  R      0x1\n\n Section to Segment mapping:\n  Segment Sections...\n   00\n   01     .interp\n   02     .interp .note.ABI-tag .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .init .plt .plt.got .text .fini .rodata .eh_frame_hdr .eh_frame\n   03     .init_array .fini_array .dynamic .got .data .bss\n   04     .dynamic\n   05     .note.ABI-tag .note.gnu.build-id\n   06     .eh_frame_hdr\n   07\n   08     .init_array .fini_array .dynamic .got\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("p",[s._v("ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œå“ªå¹¾å€‹ section å±¬æ–¼åŒä¸€å€‹ segmentï¼Œä¾‹å¦‚ "),n("code",[s._v(".got")]),s._v("ã€"),n("code",[s._v(".data")]),s._v("ã€"),n("code",[s._v(".bss")]),s._v(" å±¬æ–¼åŒä¸€å€‹ Segment ï¼Œå†ä¾†æˆ‘å€‘çœ‹çœ‹æœ‰å“ªäº›ç¬¦è™Ÿéœ€è¦è¢«é‡å®šä½")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("readelf -r hello\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Relocation section '.rela.dyn' at offset 0x410 contains 8 entries:\n  Offset          Info           Type           Sym. Value    Sym. Name + Addend\n000000200db8  000000000008 R_X86_64_RELATIVE                    630\n000000200dc0  000000000008 R_X86_64_RELATIVE                    5f0\n000000201008  000000000008 R_X86_64_RELATIVE                    201008\n000000200fd8  000100000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_deregisterTMClone + 0\n000000200fe0  000300000006 R_X86_64_GLOB_DAT 0000000000000000 __libc_start_main@GLIBC_2.2.5 + 0\n000000200fe8  000400000006 R_X86_64_GLOB_DAT 0000000000000000 __gmon_start__ + 0\n000000200ff0  000500000006 R_X86_64_GLOB_DAT 0000000000000000 _ITM_registerTMCloneTa + 0\n000000200ff8  000600000006 R_X86_64_GLOB_DAT 0000000000000000 __cxa_finalize@GLIBC_2.2.5 + 0\n\nRelocation section '.rela.plt' at offset 0x4d0 contains 1 entry:\n  Offset          Info           Type           Sym. Value    Sym. Name + Addend\n000000200fd0  000200000007 R_X86_64_JUMP_SLO 0000000000000000 puts@GLIBC_2.2.5 + 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("é€™å€‹æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹ä»€éº¼ç¬¦è™Ÿéœ€è¦è¢«é‡å®šä½ï¼Œä¾‹å¦‚ : puts ç­‰ã€‚è€Œç‚ºäº†è®“å‹•æ…‹éˆæ¥å™¨ç¢ºå®šæ˜¯å°å“ªå€‹ç¬¦è™Ÿé€²è¡Œé‡å®šä½ï¼Œéœ€è¦ä¸€å€‹é‡å®šä½è¡¨ä¾†å„²å­˜ç›¸é—œè¨Šæ¯\n"),n("code",[s._v(".rela.plt")]),s._v("ï¼šé€™å€‹sectionä¿å­˜äº†.pltä¸­ä¿å­˜çš„ç¬¦è™Ÿçš„é‡å®šä½ä¿¡æ¯ã€‚\n"),n("code",[s._v(".rela.dyn")]),s._v("ï¼šé€™å€‹sectionä¿å­˜äº†é™¤äº†.pltä¸­ä¿å­˜çš„ç¬¦è™Ÿå¤–çš„å…¶ä»–ç¬¦è™Ÿçš„é‡å®šä½ä¿¡æ¯ã€‚")]),s._v(" "),n("p",[s._v("ç”±ä¸Šé¢ "),n("code",[s._v("readelf")]),s._v("ï¼Œå¯ä»¥çœ‹åˆ°å„å€‹section çš„è¨Šæ¯ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘å€‘ä»¥é‚£äº›ç¬¦è™Ÿéœ€è¦é‡å®šä½ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘éœ€è¦å†æ‹‰è¿‘ä¸€é»è·é›¢çœ‹ï¼Œæœƒä½¿ç”¨åˆ° "),n("code",[s._v("objdump")])]),s._v(" "),n("h3",{attrs:{id:"_3-2-åˆ©ç”¨-objdump-æ›´ä»”ç´°çœ‹-plt-got-æ©Ÿåˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-åˆ©ç”¨-objdump-æ›´ä»”ç´°çœ‹-plt-got-æ©Ÿåˆ¶"}},[s._v("#")]),s._v(" 3-2. åˆ©ç”¨ objdump æ›´ä»”ç´°çœ‹ PLT, GOT æ©Ÿåˆ¶")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("objdump -D hello\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("hello:     file format elf64-x86-64\n\n\nDisassembly of section .init:\n\n00000000000004e8 <_init>:\n 4e8:   48 83 ec 08             sub    $0x8,%rsp\n 4ec:   48 8b 05 f5 0a 20 00    mov    0x200af5(%rip),%rax        # 200fe8 <__gmon_start__>\n 4f3:   48 85 c0                test   %rax,%rax\n 4f6:   74 02                   je     4fa <_init+0x12>\n 4f8:   ff d0                   callq  *%rax\n 4fa:   48 83 c4 08             add    $0x8,%rsp\n 4fe:   c3                      retq\n\nDisassembly of section .plt:\n\n0000000000000500 <.plt>:\n 500:   ff 35 ba 0a 20 00       pushq  0x200aba(%rip)        # 200fc0 <_GLOBAL_OFFSET_TABLE_+0x8>\n 506:   ff 25 bc 0a 20 00       jmpq   *0x200abc(%rip)        # 200fc8 <_GLOBAL_OFFSET_TABLE_+0x10>\n 50c:   0f 1f 40 00             nopl   0x0(%rax)\n\n0000000000000510 <puts@plt>:\n 510:   ff 25 ba 0a 20 00       jmpq   *0x200aba(%rip)        # 200fd0 <puts@GLIBC_2.2.5>\n 516:   68 00 00 00 00          pushq  $0x0\n 51b:   e9 e0 ff ff ff          jmpq   500 <.plt>\n\nDisassembly of section .plt.got:\n\n0000000000000520 <__cxa_finalize@plt>:\n 520:   ff 25 d2 0a 20 00       jmpq   *0x200ad2(%rip)        # 200ff8 <__cxa_finalize@GLIBC_2.2.5>\n 526:   66 90                   xchg   %ax,%ax\n\nDisassembly of section .text:\n\n0000000000000530 <_start>:\n 530:   31 ed                   xor    %ebp,%ebp\n 532:   49 89 d1                mov    %rdx,%r9\n 535:   5e                      pop    %rsi\n 536:   48 89 e2                mov    %rsp,%rdx\n 539:   48 83 e4 f0             and    $0xfffffffffffffff0,%rsp\n 53d:   50                      push   %rax\n 53e:   54                      push   %rsp\n 53f:   4c 8d 05 8a 01 00 00    lea    0x18a(%rip),%r8        # 6d0 <__libc_csu_fini>\n 546:   48 8d 0d 13 01 00 00    lea    0x113(%rip),%rcx        # 660 <__libc_csu_init>\n 54d:   48 8d 3d e6 00 00 00    lea    0xe6(%rip),%rdi        # 63a <main>\n 554:   ff 15 86 0a 20 00       callq  *0x200a86(%rip)        # 200fe0 <__libc_start_main@GLIBC_2.2.5>\n 55a:   f4                      hlt\n 55b:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000000560 <deregister_tm_clones>:\n 560:   48 8d 3d a9 0a 20 00    lea    0x200aa9(%rip),%rdi        # 201010 <__TMC_END__>\n 567:   55                      push   %rbp\n 568:   48 8d 05 a1 0a 20 00    lea    0x200aa1(%rip),%rax        # 201010 <__TMC_END__>\n 56f:   48 39 f8                cmp    %rdi,%rax\n 572:   48 89 e5                mov    %rsp,%rbp\n 575:   74 19                   je     590 <deregister_tm_clones+0x30>\n 577:   48 8b 05 5a 0a 20 00    mov    0x200a5a(%rip),%rax        # 200fd8 <_ITM_deregisterTMCloneTable>\n 57e:   48 85 c0                test   %rax,%rax\n 581:   74 0d                   je     590 <deregister_tm_clones+0x30>\n 583:   5d                      pop    %rbp\n 584:   ff e0                   jmpq   *%rax\n 586:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 58d:   00 00 00\n 590:   5d                      pop    %rbp\n 591:   c3                      retq\n 592:   0f 1f 40 00             nopl   0x0(%rax)\n 596:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 59d:   00 00 00\n\n00000000000005a0 <register_tm_clones>:\n 5a0:   48 8d 3d 69 0a 20 00    lea    0x200a69(%rip),%rdi        # 201010 <__TMC_END__>\n 5a7:   48 8d 35 62 0a 20 00    lea    0x200a62(%rip),%rsi        # 201010 <__TMC_END__>\n 5ae:   55                      push   %rbp\n 5af:   48 29 fe                sub    %rdi,%rsi\n 5b2:   48 89 e5                mov    %rsp,%rbp\n 5b5:   48 c1 fe 03             sar    $0x3,%rsi\n 5b9:   48 89 f0                mov    %rsi,%rax\n 5bc:   48 c1 e8 3f             shr    $0x3f,%rax\n 5c0:   48 01 c6                add    %rax,%rsi\n 5c3:   48 d1 fe                sar    %rsi\n 5c6:   74 18                   je     5e0 <register_tm_clones+0x40>\n 5c8:   48 8b 05 21 0a 20 00    mov    0x200a21(%rip),%rax        # 200ff0 <_ITM_registerTMCloneTable>\n 5cf:   48 85 c0                test   %rax,%rax\n 5d2:   74 0c                   je     5e0 <register_tm_clones+0x40>\n 5d4:   5d                      pop    %rbp\n 5d5:   ff e0                   jmpq   *%rax\n 5d7:   66 0f 1f 84 00 00 00    nopw   0x0(%rax,%rax,1)\n 5de:   00 00\n 5e0:   5d                      pop    %rbp\n 5e1:   c3                      retq\n 5e2:   0f 1f 40 00             nopl   0x0(%rax)\n 5e6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 5ed:   00 00 00\n\n00000000000005f0 <__do_global_dtors_aux>:\n 5f0:   80 3d 19 0a 20 00 00    cmpb   $0x0,0x200a19(%rip)        # 201010 <__TMC_END__>\n 5f7:   75 2f                   jne    628 <__do_global_dtors_aux+0x38>\n 5f9:   48 83 3d f7 09 20 00    cmpq   $0x0,0x2009f7(%rip)        # 200ff8 <__cxa_finalize@GLIBC_2.2.5>\n 600:   00\n 601:   55                      push   %rbp\n 602:   48 89 e5                mov    %rsp,%rbp\n 605:   74 0c                   je     613 <__do_global_dtors_aux+0x23>\n 607:   48 8b 3d fa 09 20 00    mov    0x2009fa(%rip),%rdi        # 201008 <__dso_handle>\n 60e:   e8 0d ff ff ff          callq  520 <__cxa_finalize@plt>\n 613:   e8 48 ff ff ff          callq  560 <deregister_tm_clones>\n 618:   c6 05 f1 09 20 00 01    movb   $0x1,0x2009f1(%rip)        # 201010 <__TMC_END__>\n 61f:   5d                      pop    %rbp\n 620:   c3                      retq\n 621:   0f 1f 80 00 00 00 00    nopl   0x0(%rax)\n 628:   f3 c3                   repz retq\n 62a:   66 0f 1f 44 00 00       nopw   0x0(%rax,%rax,1)\n\n0000000000000630 <frame_dummy>:\n 630:   55                      push   %rbp\n 631:   48 89 e5                mov    %rsp,%rbp\n 634:   5d                      pop    %rbp\n 635:   e9 66 ff ff ff          jmpq   5a0 <register_tm_clones>\n\n000000000000063a <main>:\n 63a:   55                      push   %rbp\n 63b:   48 89 e5                mov    %rsp,%rbp\n 63e:   48 8d 3d 9f 00 00 00    lea    0x9f(%rip),%rdi        # 6e4 <_IO_stdin_used+0x4>\n 645:   e8 c6 fe ff ff          callq  510 <puts@plt>\n 64a:   b8 00 00 00 00          mov    $0x0,%eax\n 64f:   5d                      pop    %rbp\n 650:   c3                      retq\n 651:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 658:   00 00 00\n 65b:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n\n0000000000000660 <__libc_csu_init>:\n 660:   41 57                   push   %r15\n 662:   41 56                   push   %r14\n 664:   49 89 d7                mov    %rdx,%r15\n 667:   41 55                   push   %r13\n 669:   41 54                   push   %r12\n 66b:   4c 8d 25 46 07 20 00    lea    0x200746(%rip),%r12        # 200db8 <__frame_dummy_init_array_entry>\n 672:   55                      push   %rbp\n 673:   48 8d 2d 46 07 20 00    lea    0x200746(%rip),%rbp        # 200dc0 <__init_array_end>\n 67a:   53                      push   %rbx\n 67b:   41 89 fd                mov    %edi,%r13d\n 67e:   49 89 f6                mov    %rsi,%r14\n 681:   4c 29 e5                sub    %r12,%rbp\n 684:   48 83 ec 08             sub    $0x8,%rsp\n 688:   48 c1 fd 03             sar    $0x3,%rbp\n 68c:   e8 57 fe ff ff          callq  4e8 <_init>\n 691:   48 85 ed                test   %rbp,%rbp\n 694:   74 20                   je     6b6 <__libc_csu_init+0x56>\n 696:   31 db                   xor    %ebx,%ebx\n 698:   0f 1f 84 00 00 00 00    nopl   0x0(%rax,%rax,1)\n 69f:   00\n 6a0:   4c 89 fa                mov    %r15,%rdx\n 6a3:   4c 89 f6                mov    %r14,%rsi\n 6a6:   44 89 ef                mov    %r13d,%edi\n 6a9:   41 ff 14 dc             callq  *(%r12,%rbx,8)\n 6ad:   48 83 c3 01             add    $0x1,%rbx\n 6b1:   48 39 dd                cmp    %rbx,%rbp\n 6b4:   75 ea                   jne    6a0 <__libc_csu_init+0x40>\n 6b6:   48 83 c4 08             add    $0x8,%rsp\n 6ba:   5b                      pop    %rbx\n 6bb:   5d                      pop    %rbp\n 6bc:   41 5c                   pop    %r12\n 6be:   41 5d                   pop    %r13\n 6c0:   41 5e                   pop    %r14\n 6c2:   41 5f                   pop    %r15\n 6c4:   c3                      retq\n 6c5:   90                      nop\n 6c6:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 6cd:   00 00 00\n\n00000000000006d0 <__libc_csu_fini>:\n 6d0:   f3 c3                   repz retq\n\nDisassembly of section .fini:\n\n00000000000006d4 <_fini>:\n 6d4:   48 83 ec 08             sub    $0x8,%rsp\n 6d8:   48 83 c4 08             add    $0x8,%rsp\n 6dc:   c3                      retq\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br"),n("span",{staticClass:"line-number"},[s._v("144")]),n("br"),n("span",{staticClass:"line-number"},[s._v("145")]),n("br"),n("span",{staticClass:"line-number"},[s._v("146")]),n("br"),n("span",{staticClass:"line-number"},[s._v("147")]),n("br"),n("span",{staticClass:"line-number"},[s._v("148")]),n("br"),n("span",{staticClass:"line-number"},[s._v("149")]),n("br"),n("span",{staticClass:"line-number"},[s._v("150")]),n("br"),n("span",{staticClass:"line-number"},[s._v("151")]),n("br"),n("span",{staticClass:"line-number"},[s._v("152")]),n("br"),n("span",{staticClass:"line-number"},[s._v("153")]),n("br"),n("span",{staticClass:"line-number"},[s._v("154")]),n("br"),n("span",{staticClass:"line-number"},[s._v("155")]),n("br"),n("span",{staticClass:"line-number"},[s._v("156")]),n("br"),n("span",{staticClass:"line-number"},[s._v("157")]),n("br"),n("span",{staticClass:"line-number"},[s._v("158")]),n("br"),n("span",{staticClass:"line-number"},[s._v("159")]),n("br"),n("span",{staticClass:"line-number"},[s._v("160")]),n("br"),n("span",{staticClass:"line-number"},[s._v("161")]),n("br"),n("span",{staticClass:"line-number"},[s._v("162")]),n("br"),n("span",{staticClass:"line-number"},[s._v("163")]),n("br"),n("span",{staticClass:"line-number"},[s._v("164")]),n("br"),n("span",{staticClass:"line-number"},[s._v("165")]),n("br"),n("span",{staticClass:"line-number"},[s._v("166")]),n("br"),n("span",{staticClass:"line-number"},[s._v("167")]),n("br"),n("span",{staticClass:"line-number"},[s._v("168")]),n("br"),n("span",{staticClass:"line-number"},[s._v("169")]),n("br"),n("span",{staticClass:"line-number"},[s._v("170")]),n("br"),n("span",{staticClass:"line-number"},[s._v("171")]),n("br"),n("span",{staticClass:"line-number"},[s._v("172")]),n("br"),n("span",{staticClass:"line-number"},[s._v("173")]),n("br"),n("span",{staticClass:"line-number"},[s._v("174")]),n("br"),n("span",{staticClass:"line-number"},[s._v("175")]),n("br"),n("span",{staticClass:"line-number"},[s._v("176")]),n("br"),n("span",{staticClass:"line-number"},[s._v("177")]),n("br"),n("span",{staticClass:"line-number"},[s._v("178")]),n("br"),n("span",{staticClass:"line-number"},[s._v("179")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br"),n("span",{staticClass:"line-number"},[s._v("144")]),n("br"),n("span",{staticClass:"line-number"},[s._v("145")]),n("br"),n("span",{staticClass:"line-number"},[s._v("146")]),n("br"),n("span",{staticClass:"line-number"},[s._v("147")]),n("br"),n("span",{staticClass:"line-number"},[s._v("148")]),n("br"),n("span",{staticClass:"line-number"},[s._v("149")]),n("br"),n("span",{staticClass:"line-number"},[s._v("150")]),n("br"),n("span",{staticClass:"line-number"},[s._v("151")]),n("br"),n("span",{staticClass:"line-number"},[s._v("152")]),n("br"),n("span",{staticClass:"line-number"},[s._v("153")]),n("br"),n("span",{staticClass:"line-number"},[s._v("154")]),n("br"),n("span",{staticClass:"line-number"},[s._v("155")]),n("br"),n("span",{staticClass:"line-number"},[s._v("156")]),n("br"),n("span",{staticClass:"line-number"},[s._v("157")]),n("br"),n("span",{staticClass:"line-number"},[s._v("158")]),n("br"),n("span",{staticClass:"line-number"},[s._v("159")]),n("br"),n("span",{staticClass:"line-number"},[s._v("160")]),n("br"),n("span",{staticClass:"line-number"},[s._v("161")]),n("br"),n("span",{staticClass:"line-number"},[s._v("162")]),n("br"),n("span",{staticClass:"line-number"},[s._v("163")]),n("br"),n("span",{staticClass:"line-number"},[s._v("164")]),n("br"),n("span",{staticClass:"line-number"},[s._v("165")]),n("br"),n("span",{staticClass:"line-number"},[s._v("166")]),n("br"),n("span",{staticClass:"line-number"},[s._v("167")]),n("br"),n("span",{staticClass:"line-number"},[s._v("168")]),n("br"),n("span",{staticClass:"line-number"},[s._v("169")]),n("br"),n("span",{staticClass:"line-number"},[s._v("170")]),n("br"),n("span",{staticClass:"line-number"},[s._v("171")]),n("br"),n("span",{staticClass:"line-number"},[s._v("172")]),n("br"),n("span",{staticClass:"line-number"},[s._v("173")]),n("br"),n("span",{staticClass:"line-number"},[s._v("174")]),n("br"),n("span",{staticClass:"line-number"},[s._v("175")]),n("br"),n("span",{staticClass:"line-number"},[s._v("176")]),n("br"),n("span",{staticClass:"line-number"},[s._v("177")]),n("br"),n("span",{staticClass:"line-number"},[s._v("178")]),n("br"),n("span",{staticClass:"line-number"},[s._v("179")]),n("br")])]),n("p",[s._v("é›–ç„¶ç”¢ç”Ÿå‡ºä¸€å¤§ä¸²æ–‡å­—ï¼Œä½†æ˜¯ä»”ç´°çœ‹ï¼Œæˆ‘å€‘å¯ä»¥ç™¼ç¾ä¸€äº›è››çµ²é¦¬è·¡ï¼Œé¦–å…ˆ "),n("code",[s._v("<main>")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("000000000000063a <main>:\n 63a:   55                      push   %rbp\n 63b:   48 89 e5                mov    %rsp,%rbp\n 63e:   48 8d 3d 9f 00 00 00    lea    0x9f(%rip),%rdi        # 6e4 <_IO_stdin_used+0x4>\n 645:   e8 c6 fe ff ff          callq  510 <puts@plt>\n 64a:   b8 00 00 00 00          mov    $0x0,%eax\n 64f:   5d                      pop    %rbp\n 650:   c3                      retq\n 651:   66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)\n 658:   00 00 00\n 65b:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("code",[s._v("call 510 <puts@plt>")]),s._v(": è·³åˆ° PLT è¡¨ 510 çš„ä½ç½®ï¼Œæ¥ä¸‹ä¾†å°±æ˜¯é—œéµæ‰€åœ¨ğŸ˜€")]),s._v(" "),n("p",[s._v("æˆ‘å€‘å…ˆçœ‹ PLT è¡¨æ ¼ï¼Œæ¯ä¸€å€‹å…ƒç´ çœŸçš„éƒ½æ˜¯æ”¾ä¸€æ®µæŒ‡ä»¤ç¢¼ï¼Œè€Œä¸”å¤§åŒå°ç•°ï¼ŒçŸ­çŸ­ä¸‰è¡Œæ¶µè“‹ç²¾éš¨ï¼Œåœ¨ç¬¬ä¸€å€‹å…ƒç´  "),n("code",[s._v("<.plt>")]),s._v("ï¼Œå°±æ˜¯å»å‘¼å« resolver çš„æŒ‡ä»¤ï¼Œ")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("objdump -d -j .plt hello \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Disassembly of section .plt:\n\n0000000000000500 <.plt>:\n 500:   ff 35 ba 0a 20 00       pushq  0x200aba(%rip)        # 200fc0 <_GLOBAL_OFFSET_TABLE_+0x8>\n 506:   ff 25 bc 0a 20 00       jmpq   *0x200abc(%rip)        # 200fc8 <_GLOBAL_OFFSET_TABLE_+0x10>\n 50c:   0f 1f 40 00             nopl   0x0(%rax)\n\n0000000000000510 <puts@plt>:\n 510:   ff 25 ba 0a 20 00       jmpq   *0x200aba(%rip)        # 200fd0 <puts@GLIBC_2.2.5>\n 516:   68 00 00 00 00          pushq  $0x0\n 51b:   e9 e0 ff ff ff          jmpq   500 <.plt>\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("æ‰€ä»¥ä½ çœ‹ç¬¬äºŒå€‹å…ƒç´ ")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("0000000000000510 <puts@plt>:\n 510:   ff 25 ba 0a 20 00       jmpq   *0x200aba(%rip)        # 200fd0 <puts@GLIBC_2.2.5>\n 516:   68 00 00 00 00          pushq  $0x0\n 51b:   e9 e0 ff ff ff          jmpq   500 <.plt>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("ç¬¬ä¸€è¡Œï¼Œç•¶ GOT è¡¨æ ¼å…§å®¹æœ‰ put å‡½æ•¸åœ°å€ï¼Œå°±è·³éå» put åœ°å€åŸ·è¡Œï¼Œé‚£ GOT è¡¨æ ¼è©²é …çš„åœ°å€ç”± "),n("code",[s._v("*0x200aba(%rip)")]),s._v(" å¾—åˆ°ï¼Œé€™è¡ŒæŒ‡ä»¤æ˜¯ rip å€¼ + "),n("code",[s._v("0x200aba")]),s._v("ï¼Œ "),n("mark",[s._v("rip æš«å­˜å™¨å€¼æ˜¯ä¸‹ä¸€å€‹åŸ·è¡ŒæŒ‡ä»¤çš„åœ°å€")]),s._v("ï¼Œä»¥é€™è£¡ç‚ºä¾‹")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("0x516 + 0x200aba = 0x200fd0 = æˆ‘å€‘è¦å» GOT æ‰¾çš„é …ç›®åœ°å€ï¼Œå¯èƒ½æ˜¯ GOT[1], GOT[2]... \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("ç¬¬äºŒã€ä¸‰è¡Œï¼Œå°±æ˜¯ç•¶ GOT è¡¨é …å…§å­˜çš„æ˜¯ 0x516ï¼Œè¡¨ç¤ºæ²’æœ‰è©²ç¬¦è™Ÿçš„åœ°å€ï¼Œ "),n("mark",[s._v("æˆ‘å€‘å°±å¿…é ˆè·³å›ä¾†åŸ·è¡Œï¼Œå› ç‚ºè¦å»æ‰¾å‹•æ…‹éˆæ¥å™¨çš„åœ°å€")]),s._v("ï¼Œé‚£å¦‚åŒå‰é¢æ‰€è¿°ï¼Œå‹•æ…‹éˆæ¥å™¨é€šå¸¸å°±åœ¨ PLT è¡¨æ ¼çš„ç¬¬ä¸€é …ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°æœ‰ "),n("code",[s._v("jmpq 500 <.plt>")]),s._v("ï¼Œåˆè·³åˆ° PLT ç¬¬ä¸€é …ï¼Œå»æ‰¾æˆ‘å€‘çš„å‹•æ…‹éˆæ¥å™¨æ±‚æ•‘ã€‚")]),s._v(" "),n("p",[s._v("é‚£æˆ‘å€‘å»å¾ªç·šæ‰¾çœ‹çœ‹ï¼ŒGOTè¡¨çš„å…§å®¹ç‰©å§")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("objdump -d -j .got hello\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("hello:     file format elf64-x86-64\nDisassembly of section .got:\n\n0000000000200fb8 <_GLOBAL_OFFSET_TABLE_>:\n  200fb8:       c8 0d 20 00 00 00 00 00 00 00 00 00 00 00 00 00     .. .............\n        ...\n  200fd0:       16 05 00 00 00 00 00 00 00 00 00 00 00 00 00 00     ................\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("ä½ æœƒç™¼ç¾æœ‰å…©å€‹é …ç›®")]),s._v(" "),n("ul",[n("li",[s._v("GOT[0]: 200fb8: c8 0d 20 00 00 00 00 00 00 00 00 00 00 00 00 00")]),s._v(" "),n("li",[s._v("GOT[1]: 200fd0: 16 05 00 00 00 00 00 00 00 00 00 00 00 00 00 00")])]),s._v(" "),n("p",[s._v("åœ¨å‰›å‰› PLT è¡¨æ ¼ï¼Œæˆ‘å€‘å‰›å‰›è¨ˆç®—ä»–è·³åˆ°çš„åœ°å€æ˜¯")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("0x516 + 0x200aba = 0x200fd0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("å°±æ˜¯æˆ‘å€‘ GOT[1] é‚£é …ï¼Œè©²å…§å®¹æ˜¯ "),n("code",[s._v("0x516")]),s._v("ï¼Œ0x516 æ˜¯å“ªè£¡ ? å°±æ˜¯å‰›å‰› PLT çš„æŒ‡ä»¤åœ°å€")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("0000000000000510 <puts@plt>:\n 510:   ff 25 ba 0a 20 00       jmpq   *0x200aba(%rip)        # 200fd0 <puts@GLIBC_2.2.5>\n 516:   68 00 00 00 00          pushq  $0x0\n 51b:   e9 e0 ff ff ff          jmpq   500 <.plt>\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("æ˜¯ä¸æ˜¯ä¸²èµ·ä¾†äº† ? ç•¶ GOT å…§æ²’æœ‰å‡½æ•¸åœ°å€ï¼Œå°±æœƒå«ä½ è·³å›å»æ‰¾å‹•æ…‹éˆæ¥å™¨ã€‚")]),s._v(" "),n("p",[s._v("æ‰€ä»¥æµç¨‹å°±æ˜¯")]),s._v(" "),n("Mermaid",{attrs:{id:"mermaid-64a568e8","data-code":"graph%20TD%0A%20%20%20%20main(%22645%3A%20%20%20e8%20c6%20fe%20ff%20ff%20%20%20%20%20%20%20%20%20%20callq%20%20510%20%3Cputs%40plt%3E%22)%0A%20%20%20%20plt1(%22510%3A%20%20%20ff%2025%20ba%200a%2020%2000%20%20%20%20%20%20%20jmpq%20%20%20*0x200aba(%25rip)%20%20%20%20%20%20%20%20%23%20200fd0%20%3Cbr%3E516%3A%20%20%2068%2000%2000%2000%2000%20%20%20%20%20%20%20%20%20%20pushq%20%20%240x0%20%3Cbr%3E%2051b%3A%20%20%20e9%20e0%20ff%20ff%20ff%20%20%20%20%20%20%20%20%3Cbr%3Ejmpq%20%20%20500%20%3C.plt%3E%22)%0A%20%20%20%20got(%22GOT%5B1%5D%3A%20200fd0%3A%2016%2005%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%2000%22)%0A%20%20%20%20main%20--%3E%7C1.%200x510%7C%20plt1%20--%3E%7C2.%200x200fd0%7C%20got%20--%3E%20%7C3.%200x516%7C%20plt1%0A%20%20%20%20plt1%20--%3E%7C4.%200x516%7C%20plt2(%220000000000000500%20%3C.plt%3E...%22)%20--%3E%20dl(%22dynamic%20linker%22)%0A%20%20%20%20dl%20--%3E%20%7C%225.%20%E6%89%BE%E5%88%B0%E5%9C%B0%E5%9D%80%E6%9B%B4%E6%96%B0GOT%5B1%5D%22%7C%20got%0A%20%20%20%20dl%20--%3E%20exec(%22%E5%9F%B7%E8%A1%8C%20put%20%E5%87%BD%E6%95%B8%22)%0A"}}),n("p",[s._v("åˆ©ç”¨ "),n("code",[s._v("objdump")]),s._v(" å¾Œï¼Œæˆ‘å€‘åˆæ›´äº†è§£ä»–çš„è·³è½‰åŸç†ã€‚ğŸ˜‰")]),s._v(" "),n("h3",{attrs:{id:"_3-3-åˆ©ç”¨-gdb-peda-å‹•æ‰‹è¿½è¹¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-åˆ©ç”¨-gdb-peda-å‹•æ‰‹è¿½è¹¤"}},[s._v("#")]),s._v(" 3-3. åˆ©ç”¨ gdb-peda å‹•æ‰‹è¿½è¹¤")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb ./hello\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("æˆ‘å€‘å…ˆä¾†åœ¨ main å‡½æ•¸ä¸‹æ–·é»")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("b *main\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("å†åŸ·è¡Œ")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("r\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://i.imgur.com/FciAF2i.png",alt:""}}),s._v("\næœ‰æ²’æœ‰çœ‹åˆ°ç¾éº—çš„å„€è¡¨æ¿ğŸ¤£ï¼Œæ¥ä¸‹ä¾†å°±å¯ä»¥åˆ©ç”¨ "),n("code",[s._v("gdb-peda")]),s._v(" çš„å¼·å¤§çš„åŠŸèƒ½äº†ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘ä¾†åçµ„è­¯ "),n("code",[s._v("put")]),s._v(" é‚£è¡Œï¼Œé€™ä¸€è¡Œå°±æ˜¯è·³è½‰åˆ° PLT çš„æŒ‡ä»¤ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("   0x8000631 <frame_dummy+1>:   mov    rbp,rsp\n   0x8000634 <frame_dummy+4>:   pop    rbp\n   0x8000635 <frame_dummy+5>:   jmp    0x80005a0 <register_tm_clones>\n=> 0x800063a <main>:    push   rbp\n   0x800063b <main+1>:  mov    rbp,rsp\n   0x800063e <main+4>:  lea    rdi,[rip+0x9f]        # 0x80006e4\n   0x8000645 <main+11>: call   0x8000510 <puts@plt>\n   0x800064a <main+16>: mov    eax,0x0\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("ä½ å¯ä»¥ç™¼ç¾åœ¨ä¸Šä¸€ç« ç¯€çš„åœ°å€ 0x510ï¼Œé‚£å› ç‚ºè¼‰å…¥åˆ°è¨˜æ†¶é«”èµ·å§‹ä½ç½®æœ‰æ”¹è®Šï¼Œæ‰€ä»¥è¦å¹³ç§»ï¼Œ"),n("code",[s._v("3-1")]),s._v(" å’Œ "),n("code",[s._v("3-2")]),s._v(" èµ·å§‹ä½ç½®æ˜¯ 0ï¼Œå› ç‚ºé‚„æ²’è¼‰å…¥åˆ°è¨˜æ†¶é«”ï¼Œä½†æ˜¯è¼‰å…¥å¾Œï¼Œèµ·å§‹ä½ç½®æ˜¯ "),n("code",[s._v("0x8000510")]),s._v("ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb-peda$ pdisass 0x8000510\nDump of assembler code from 0x8000510 to 0x8000530::    Dump of assembler code from 0x8000510 to 0x8000530:\n   0x0000000008000510 <puts@plt+0>:     jmp    QWORD PTR [rip+0x200aba]        # 0x8200fd0\n   0x0000000008000516 <puts@plt+6>:     push   0x0\n   0x000000000800051b <puts@plt+11>:    jmp    0x8000500\n   0x0000000008000520 <__cxa_finalize@plt+0>:   jmp    QWORD PTR [rip+0x200ad2]        # 0x8200ff8\n   0x0000000008000526 <__cxa_finalize@plt+6>:   xchg   ax,ax\n   0x0000000008000528:  add    BYTE PTR [rax],al\n   0x000000000800052a:  add    BYTE PTR [rax],al\n   0x000000000800052c:  add    BYTE PTR [rax],al\n   0x000000000800052e:  add    BYTE PTR [rax],al\nEnd of assembler dump.\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("æˆ‘å€‘å†å¾ªç·šä¸‹å»ï¼Œæˆ‘å€‘åçµ„è­¯ GOT è¡¨æ ¼åœ°å€ "),n("code",[s._v("0x8200fd0")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb-peda$ disassemble 0x8200fd0\nDump of assembler code for function _GLOBAL_OFFSET_TABLE_:\n   0x0000000008200fb8:  enter  0x200d,0x0\n   0x0000000008200fbc:  add    BYTE PTR [rax],al\n   0x0000000008200fbe:  add    BYTE PTR [rax],al\n   0x0000000008200fc0:  add    BYTE PTR [rax],al\n   0x0000000008200fc2:  add    BYTE PTR [rax],al\n   0x0000000008200fc4:  add    BYTE PTR [rax],al\n   0x0000000008200fc6:  add    BYTE PTR [rax],al\n   0x0000000008200fc8:  add    BYTE PTR [rax],al\n   0x0000000008200fca:  add    BYTE PTR [rax],al\n   0x0000000008200fcc:  add    BYTE PTR [rax],al\n   0x0000000008200fce:  add    BYTE PTR [rax],al\n   0x0000000008200fd0:  movabs al,ds:0x7fffff080a\n   0x0000000008200fd9:  add    BYTE PTR [rax],al\n   0x0000000008200fdb:  add    BYTE PTR [rax],al\n   0x0000000008200fdd:  add    BYTE PTR [rax],al\n   0x0000000008200fdf:  add    BYTE PTR [rax],dl\n   0x0000000008200fe1:  sbb    eax,DWORD PTR [rdx]\n   0x0000000008200fe3:  (bad)\n   0x0000000008200fe4:  (bad)\n   0x0000000008200fe5:  jg     0x8200fe7\n   0x0000000008200fe7:  add    BYTE PTR [rax],al\n   0x0000000008200fe9:  add    BYTE PTR [rax],al\n   0x0000000008200feb:  add    BYTE PTR [rax],al\n   0x0000000008200fed:  add    BYTE PTR [rax],al\n   0x0000000008200fef:  add    BYTE PTR [rax],al\n   0x0000000008200ff1:  add    BYTE PTR [rax],al\n   0x0000000008200ff3:  add    BYTE PTR [rax],al\n   0x0000000008200ff5:  add    BYTE PTR [rax],al\n   0x0000000008200ff7:  add    BYTE PTR [rax+0x36],al\n   0x0000000008200ffa:  add    al,0xff\n   0x0000000008200ffc:  (bad)\n   0x0000000008200ffd:  jg     0x8200fff\n   0x0000000008200fff:  add    BYTE PTR [rax],al\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("p",[s._v("å¯ä»¥çœ‹åˆ° "),n("code",[s._v("0x0000000008200fd0: movabs al,ds:0x7fffff080a")]),s._v("ï¼Œå„²å­˜ä¸€å€‹åœ°å€ï¼Œé‚£å€‹å°±æ˜¯ put å‡½æ•¸çš„åœ°å€ï¼Œé€™è£¡æœ‰å¹¾ç¨®æ–¹å¼å¯ä»¥ç¢ºèªæ˜¯ put å‡½æ•¸åœ°å€")]),s._v(" "),n("ol",[n("li",[s._v("åˆ©ç”¨ "),n("code",[s._v("tele")]),s._v(" æŒ‡ä»¤")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb-peda$ tele 0x8200fd0\n0000| 0x8200fd0 --\x3e 0x7fffff080aa0 (<_IO_puts>: push   r13)\n0008| 0x8200fd8 --\x3e 0x0\n0016| 0x8200fe0 --\x3e 0x7fffff021b10 (<__libc_start_main>:        push   r13)\n0024| 0x8200fe8 --\x3e 0x0\n0032| 0x8200ff0 --\x3e 0x0\n0040| 0x8200ff8 --\x3e 0x7fffff043640 (<__cxa_finalize>:   push   r15)\n0048| 0x8201000 --\x3e 0x0\n0056| 0x8201008 (0x0000000008201008)\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("åˆ©ç”¨ "),n("code",[s._v("xinfo")]),s._v(" æŒ‡ä»¤")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb-peda$ xinfo 0x8200fd0\n0x8200fd0 --\x3e 0x7fffff080aa0 (<_IO_puts>:       push   r13)\nVirtual memory mapping:\nStart : 0x08200000\nEnd   : 0x08201000\nOffset: 0xfd0\nPerm  : r--p\nName  : /mnt/c/Users/lovel/Desktop/linker/hello\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("åˆ©ç”¨ "),n("code",[s._v("print")]),s._v(" æŒ‡ä»¤")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb-peda$ print puts\n$1 = {int (const char *)} 0x7fffff080aa0 <_IO_puts>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[s._v("ç•¶ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥çœ‹ PLT çš„é …ç›®åç¨±å¾—çŸ¥")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb-peda$ x/16x 0x0000000008000510\n0x8000510 <puts@plt>:   0x0aba25ff      0x00680020      0xe9000000      0xffffffe0\n0x8000520 <__cxa_finalize@plt>: 0x0ad225ff      0x90660020      0x00000000      0x00000000\n0x8000530 <_start>:     0x8949ed31      0x89485ed1      0xe48348e2      0x4c5450f0\n0x8000540 <_start+16>:  0x018a058d      0x8d480000      0x0001130d      0x3d8d4800\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("é‚„çœŸçš„æ˜¯ "),n("code",[s._v("puts")]),s._v(" å‡½æ•¸åœ°å€ï¼Œé‚£æ¥ä¸‹ä¾†æˆ‘å€‘è¦ç¢ºèªæ˜¯å¦ç‚º "),n("code",[s._v("libc.so")]),s._v(" çš„ç¬¦è™Ÿï¼Œåˆ©ç”¨ "),n("code",[s._v("info symbol")]),s._v(" æŸ¥çœ‹")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gdb-peda$ info symbol puts\nputs in section .text of /lib/x86_64-linux-gnu/libc.so.6\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("æˆ‘å€‘æ›´åŠ ç¢ºå®šï¼Œé€é GOT å„²å­˜çš„ "),n("code",[s._v("put")]),s._v("åœ°å€ï¼Œå°±ç›´æ¥è·³åˆ° "),n("code",[s._v("libc.so")]),s._v(" çš„ç¨‹å¼ç¢¼å€æ®µå»åŸ·è¡Œ ~")]),s._v(" "),n("p",[s._v("å’¦ !? ç‚ºä»€éº¼ä½ çš„ GDB è¿½è¹¤ï¼ŒGOT ç›´æ¥å°±æœ‰åœ°å€å€¼äº†ï¼Œæ²’æœ‰å†è·³å›å» PLT é‡æ–°è§£æï¼Œé€™è£¡æœ‰å€‹æ¯”è¼ƒå¥‡æ€ªçš„åœ°æ–¹ï¼Œå°±æ˜¯è¼‰å…¥æ™‚å°±å¹«ä½ åšå¥½ç¬¦è™Ÿè§£æäº†ï¼ŒGOTè¡¨å°±å­˜æ”¾ "),n("code",[s._v("puts")]),s._v(" çš„å‡½æ•¸åœ°å€ï¼Œä¸éœ€è¦å†å»å«å‹•æ…‹éˆæ¥å™¨åšäº‹ï¼Œå…¶å¯¦å¾ˆå¤šåƒè€ƒé€£çµï¼Œéƒ½å¯ä»¥è¿½è¹¤åˆ° "),n("code",[s._v("dl_runtime_resolve")]),s._v(" çš„å‡½æ•¸ï¼Œä½†æˆ‘é€™è£¡ç¸½æ˜¯æ²’è¿½åˆ°ã€‚")]),s._v(" "),n("p",[s._v("æˆ‘èªç‚ºæœ‰å¯èƒ½æ˜¯æ¯”è¼ƒæ–°çš„è¼‰å…¥å™¨(loader)è¨­è¨ˆå°å‹•æ…‹éˆçµç¬¦è™Ÿè§£ææœ‰å†åšä¸€äº›æœ€ä½³åŒ–ï¼Œ"),n("a",{attrs:{href:"https://hackmd.io/@rhythm/ry5pxN6NI",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux/ELFå‹•æ…‹éˆæ¥éƒ¨åˆ†æ©Ÿåˆ¶(GOT&PLT)"),n("OutboundLink")],1),s._v(" ä¹Ÿæœ‰é‡åˆ°ç›¸åŒå•é¡Œã€‚ç¶“éäº†å¹¾ç•ªå°‹æ‰¾ï¼Œé€™æ­£æ˜¯ä¸‹ä¸€ç¯‡ä»‹ç´¹çš„æŠ€è¡“ - "),n("code",[s._v("prelink")]),s._v("ã€‚")]),s._v(" "),n("h3",{attrs:{id:"_3-4-aslr-and-prelink-æŠ€è¡“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-aslr-and-prelink-æŠ€è¡“"}},[s._v("#")]),s._v(" 3-4. ASLR and Prelink æŠ€è¡“")]),s._v(" "),n("p",[s._v("åœ¨ä¸Šä¸€å€‹å°ç¯€ï¼Œæˆ‘å€‘ç”¨ "),n("code",[s._v("gdb")]),s._v(" ä¾†è¿½æŸ¥å‹•æ…‹éˆçµçš„è¡Œç‚ºï¼Œå»ç™¼ç¾ GOT è¡¨æ²’æœ‰ç¶“éå‹•æ…‹éˆçµå™¨å°±å­˜æ”¾äº† "),n("code",[s._v("put")]),s._v(" çš„åœ°å€ï¼Œ "),n("mark",[s._v("å¥½åƒæ˜¯é å…ˆå°±åšå¥½ç¬¦è™Ÿè§£æä¸€æ¨£")]),s._v("ï¼Œæ²’éŒ¯ï¼Œå›åˆ°å‹•æ…‹éˆçµï¼Œä½ å¯ä»¥ç™¼ç¾æœ€åŸå§‹å‹•æ…‹éˆçµçš„æ–¹æ³•æœƒå¸¶ä¾†ä¸€äº›æˆæœ¬ï¼Œæ¯æ¬¡é‡æ–°å•Ÿå‹•æ™‚éƒ½è¦é‡æ–°è§£æç¬¦è™Ÿåœ°å€ã€‚è§£ææ™‚åˆè¦é¡å¤–å«å‹•æ…‹éˆæ¥å™¨ä¾†å¹«å¿™ã€‚ä¸€ä¾†ä¸€å›æœƒæµªè²»å¾ˆå¤š CPU cycle å»åŸ·è¡Œï¼Œå‡è¨­ä»Šå¤©è¦è§£æä¸€åƒè¬å€‹ç¬¦è™Ÿï¼Œæˆ‘ç›¸ä¿¡å‹•æ…‹éˆæ¥é‡å®šä½ç¬¦è™Ÿçš„æ™‚é–“ä¸€å®šä½”ç”¨ä¸å°‘åŸ·è¡ŒæœŸæ™‚é–“ã€‚æ‰€ä»¥ä»Šå¤©åœ¨ç¾ä»£ä½œæ¥­ç³»çµ±å°±æœ‰æ›´é€²ä¸€æ­¥çš„ä½œæ³• - "),n("code",[s._v("é éˆæ¥(prelink)")]),s._v("ã€‚")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Prelink",target:"_blank",rel:"noopener noreferrer"}},[s._v("Prelink wiki"),n("OutboundLink")],1)]),s._v(" "),n("ol",[n("li",[s._v("å®šç¾©")])]),s._v(" "),n("blockquote",[n("p",[s._v("In computing, prebinding, also called prelinking, is a method for optimizing application load times by resolving library symbols prior to launch.")])]),s._v(" "),n("p",[s._v("Prelink æ˜¯ä¸€å€‹åœ¨ç¨‹å¼åŸ·è¡Œå‰å…ˆè§£æå‡½å¼åº«ç¬¦è™Ÿåœ°å€çš„ä¸€ç¨®æœ€ä½³åŒ–æ–¹æ³•ã€‚é€™ä¹Ÿå¯ä»¥å°æ‡‰åˆ°ï¼Œæˆ‘å€‘åœ¨ 3-1ã€3-2 å°ç¯€çœ‹åˆ°é‚„æ²’åŸ·è¡Œæ™‚çš„ï¼ŒGOT[1] è¡¨æ”¾çš„æ˜¯ PLT ä¸‹ä¸€å€‹åœ°å€ï¼Œä½†åœ¨åŸ·è¡Œæ™‚å°±é¦¬ä¸Šæœ‰ put å‡½æ•¸çš„åœ°å€ï¼Œå¥½åƒæ˜¯æŸå€‹ç„¡åè‹±é›„é»˜é»˜è¡Œå–„ï¼Œæˆ–æ˜¯åƒ JOJO ç¬¬äº”éƒ¨å¤§é­”ç‹è¿ªäºæ³¢ç¾…çš„æ›¿èº«ç·‹ç´…ä¹‹ç‹çš„èƒ½åŠ› - æ™‚é–“åˆªé™¤ã€‚")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2FD7OUe6PTQvqaXHT1GHsEVmwlkQmXvalOQVXnqs5wm3ogT1564321178485.jpeg&thumbnail=650x2147483647&quality=80&type=jpg",alt:""}})]),s._v(" "),n("p",[s._v("æ‰¯é äº†ğŸ¤£ï¼Œé€™å€‹ç„¡åè‹±é›„å°±æ˜¯ "),n("code",[s._v("Prelink")]),s._v("ï¼Œåœ¨ç¶­åŸºä¸­ä¹Ÿæœ‰æåˆ°")]),s._v(" "),n("blockquote",[n("p",[s._v("While dynamic linking has advantages in code size and management, there are drawbacks as well. Every time a program is run, the loader needs to resolve (find) the relevant libraries. Since libraries move around in memory, there is a performance penalty for resolution. This penalty increases for each additional library needing resolution.\nPrelinking reduces this penalty by resolving libraries in advance. Afterward, resolution only occurs if the libraries have changed since being prelinked, such as following perhaps an upgrade.")])]),s._v(" "),n("p",[s._v("ç•¶äº‹å…ˆåšéˆæ¥ï¼Œæœ‰å€‹å¥½è™•å°±æ˜¯å¯ä»¥åœ¨åŸ·è¡ŒåŸ·è¡Œå¾—æ›´å¿«ï¼ŒGOT è¡¨æ ¼å°±å·²ç¶“æ›´æ–°å¥½äº†ï¼Œä¸ç”¨åŸ·è¡Œæ™‚åšè§£æç•¶ç„¶å¯ä»¥è·‘å¾—æ›´å¿« ! è€Œä¸”æœ€å¾Œé¢æåˆ°ï¼Œå¦‚æœå‡½å¼åº«æ›´æ–°æ‰éœ€è¦åšåœ°å€é‡å®šä½é‡è§£æã€‚")]),s._v(" "),n("p",[s._v("åœ¨"),n("a",{attrs:{href:"https://www.twblogs.net/a/5c7d7b8ebd9eee114211f91d",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä½¿ç”¨ Prelink åŠ é€Ÿç¨‹åºå•“å‹•"),n("OutboundLink")],1),s._v("ï¼Œä¸€æ–‡ä¸­ï¼Œä¹Ÿæœ‰ä»‹ç´¹")]),s._v(" "),n("blockquote",[n("p",[s._v("Prelink æ˜¯ Red Hat é–‹ç™¼è€… Jakub Jelinek æ‰€è¨­è¨ˆçš„å·¥å…·ã€‚æ­£å¦‚å…¶åå­—æ‰€ç¤ºï¼ŒPrelink åˆ©ç”¨äº‹å…ˆéˆæ¥ä»£æ›¿é‹è¡Œæ™‚éˆæ¥çš„æ–¹æ³•ä¾†åŠ é€Ÿå…±äº«åº«çš„åŠ è¼‰ã€‚å®ƒä¸åƒ…å¯ä»¥åŠ å¿«èµ·å‹•é€Ÿåº¦ï¼Œé‚„å¯ä»¥æ¸›å°‘éƒ¨åˆ†å…§å­˜é–‹éŠ·ï¼Œæ˜¯å„ç¨® Linux æ¶æ§‹ä¸Šç”¨æ–¼æ¸›å°‘ç¨‹åºè¼‰å…¥æ™‚é–“ã€ç¸®çŸ­ç³»çµ±å•“å‹•æ™‚é–“å’ŒåŠ å¿«æ‡‰ç”¨ç¨‹åºå•“å‹•çš„å¾ˆå—æ­¡è¿çš„ä¸€å€‹å·¥å…·ã€‚\n"),n("mark",[s._v("Prelink å·¥å…·çš„åŸç†ä¸»è¦åŸºæ–¼é€™æ¨£ä¸€å€‹äº‹å¯¦ï¼šå‹•æ…‹éˆæ¥å’ŒåŠ è¼‰çš„éç¨‹é–‹éŠ·å¾ˆå¤§ï¼Œä¸¦ä¸”åœ¨å¤§å¤šæ•¸çš„ç³»çµ±ä¸Šï¼Œå‡½æ•¸åº«ä¸¦ä¸æœƒå¸¸å¸¸è¢«æ›´å‹•ï¼Œæ¯æ¬¡ç¨‹åºè¢«åŸ·è¡Œæ™‚æ‰€é€²è¡Œçš„éˆæ¥å‹•ä½œéƒ½æ˜¯å®Œå…¨ç›¸åŒçš„")]),s._v(" ï¼Œå°æ–¼åµŒå…¥å¼ç³»çµ±ä¾†èªªå°¤å…¶å¦‚æ­¤ã€‚å› æ­¤ï¼Œé€™ä¸€éç¨‹å¯ä»¥æ”¹åœ¨åŸ·è¡Œå‰å°±å¯ä»¥é å…ˆè™•ç†å¥½ï¼Œå³èŠ±ä¸€äº›æ™‚é–“åˆ©ç”¨ Prelink å·¥å…·å°å‹•æ…‹å…±äº«åº«å’Œå¯åŸ·è¡Œæ–‡ä»¶é€²è¡Œè™•ç†ï¼Œä¿®æ”¹é€™äº›äºŒé€²åˆ¶æ–‡ä»¶ä¸¦åŠ å…¥ç›¸æ‡‰çš„é‡å®šä½ç­‰ä¿¡æ¯ï¼Œ"),n("mark",[s._v("ç¯€ç´„äº†æœ¬ä¾†åœ¨ç¨‹åºå•“å‹•æ™‚çš„æ¯”è¼ƒè€—æ™‚çš„æŸ¥è©¢å‡½æ•¸åœ°å€ç­‰å·¥ä½œï¼Œé€™æ¨£å¯ä»¥æ¸›å°‘ç¨‹åºå•“å‹•çš„æ™‚ï¼ŒåŒæ™‚ä¹Ÿæ¸›å°‘äº†å…§å­˜çš„è€—ç”¨ã€‚")]),s._v(" "),n("mark",[s._v("Prelink çš„é€™ç¨®åšæ³•ç•¶ç„¶ä¹Ÿæœ‰ä»£åƒ¹ï¼šæ¯æ¬¡æ›´æ–°å‹•æ…‹å…±äº«åº«æ™‚ï¼Œç›¸é—œçš„å¯åŸ·è¡Œæ–‡ä»¶éƒ½éœ€è¦é‡æ–°åŸ·è¡Œä¸€é Prelink æ‰èƒ½ä¿è­‰æœ‰æ•ˆï¼Œå› çˆ²æ–°çš„å…±äº«åº«ä¸­çš„ç¬¦è™Ÿä¿¡æ¯ã€åœ°å€ç­‰å¾ˆå¯èƒ½èˆ‡åŸä¾†çš„å·²ç¶“ä¸åŒäº†ã€‚é€™ç¨®ä»£åƒ¹å°æ–¼åµŒå…¥å¼ç³»çµ±çš„é–‹ç™¼è€…ä¾†èªªå¯èƒ½ç¨å¾®å¸¶ä¾†ä¸€äº›è¤‡é›œåº¦ï¼Œä¸éå¥½åœ¨å°ç”¨æˆ¶ä¾†èªªå¹¾ä¹æ˜¯å¯ä»¥å¿½ç•¥çš„ã€‚")])])]),s._v(" "),n("p",[s._v("ä½ å° "),n("code",[s._v("Prelink")]),s._v(" å¯èƒ½å°±ä¸€äº›ç†è§£äº†ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯é å…ˆè™•ç†å¥½å¼•ç”¨ç¬¦è™Ÿåœ°å€åˆ° GOT è¡¨ï¼ŒçœŸæ­£è¼‰å…¥å¾ŒåŸ·è¡Œå°±å¯ä»¥ç›´æ¥æŠŠ GOT ç•¶å¿«å–å»åŸ·è¡Œå‡½æ•¸ã€‚")]),s._v(" "),n("p",[s._v("åœ¨ç¨‹å¼å•“å‹•æ™‚ï¼Œç•¶èª¿ç”¨ printf çš„æ™‚å€™ï¼Œç¨‹åºæœƒå°‡è™•ç†æ¬Šäº¤çµ¦ loaderï¼Œç”±å…¶è² è²¬åœ¨è¡Œç¨‹ä»¥åŠå…¶éˆæ¥çš„å‹•æ…‹åº«ä¸­æŸ¥æ‰¾ printf çš„å‡½æ•¸åœ°å€ã€‚ç”±æ–¼ loader ä¸çŸ¥é“ printf æ˜¯åœ¨å“ªå€‹å‹•æ…‹åº«ï¼Œæ‰€ä»¥å®ƒå°‡åœ¨æ•´å€‹è¡Œç¨‹å’Œå‹•æ…‹åº«çš„ç¯„åœå…§æŸ¥æ‰¾ã€‚æ›´ç³Ÿç³•çš„æ˜¯åœ¨ C++ ç¨‹åºä¸­ï¼Œç¬¦è™Ÿçš„å‘½åæ˜¯é¡å+å‡½æ•¸åï¼Œé€™å°è‡´åœ¨åšå­—ç¬¦ä¸²æ¯”è¼ƒæ™‚ï¼Œå¾€å¾€ç›´åˆ°å­—ç¬¦ä¸²çš„çµå°¾æ‰èƒ½ç²å¾—çµæœã€‚")]),s._v(" "),n("p",[s._v("é€™å°±å°è‡´äº†ï¼Œåœ¨è¡Œç¨‹å•“å‹•éç¨‹ä¸­ï¼Œç¬¦è™ŸæŸ¥æ‰¾å¾€å¾€ä½”æ“šäº†å¤§éƒ¨åˆ†æ™‚é–“ã€‚æ“šçµ±è¨ˆï¼Œåœ¨ Linux çš„ KDE é€²ç¨‹ä¸­å•“å‹•éç¨‹ä¸­ï¼Œ"),n("mark",[s._v("ç¬¦è™ŸæŸ¥æ‰¾è¡¨ç«Ÿä½”æ“šäº†è¡Œç¨‹å•“å‹• 80% çš„æ™‚é–“")]),s._v(" ã€‚æœ‰æ²’æœ‰è¾¦æ³•ä¾†æ”¹é€²å‘¢ï¼Ÿå¦‚æœé€²ç¨‹åœ¨åŸ·è¡Œå‰ï¼Œå°±èƒ½ç²çŸ¥å‹•æ…‹åº«çš„åŠ è¼‰åœ°å€ï¼Œé‚£éº¼å‡½æ•¸èª¿ç”¨çš„åœ°å€å°±æ‡‰è©²æ˜¯å·²çŸ¥çš„ï¼Œæˆ‘å€‘å°±å¯ä»¥é€šéä¿®æ”¹åŸ·è¡Œç¨‹åºï¼Œä¾†é¿å…ç¬¦è™Ÿçš„æŸ¥æ‰¾ã€‚å¾è€Œç¯€çœè¡Œç¨‹å•“å‹•çš„æ™‚é–“ã€‚")]),s._v(" "),n("p",[s._v("å¦å¤–å’Œ dynamic linker è·Ÿ prelink æœ‰é—œçš„æŠ€è¡“ï¼Œæ˜¯ ASLR(Address Space Layout Randomization)ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æ¯æ¬¡è¼‰å…¥æ™‚å‡½å¼åº«çš„åŸºæœ¬åœ°å€æ˜¯éš¨æ©Ÿçš„ï¼Œå¦‚ä¸‹")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("unix$ ldd hello\n        linux-vdso.so.1 (0x00007fffe3188000)\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fa6ccff0000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007fa6cd800000)\n\nunix$ ldd hello\n        linux-vdso.so.1 (0x00007fffd6150000)\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f6b26ce0000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007f6b27400000)\n\nunix$ ldd hello\n        linux-vdso.so.1 (0x00007fffe9e6a000)\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f664d7e0000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007f664de00000)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("ä½ ä¹Ÿå¯ä»¥åˆ©ç”¨ "),n("code",[s._v("strace ./hello")]),s._v(" çœ‹çœ‹ç”¨åˆ°çš„ "),n("code",[s._v("System Call")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('execve("./hello", ["./hello"], 0x7ffffea85260 /* 21 vars */) = 0\nbrk(NULL)                               = 0x7fffe8b5d000\naccess("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)\naccess("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)\nopenat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3\nfstat(3, {st_mode=S_IFREG|0644, st_size=46345, ...}) = 0\nmmap(NULL, 46345, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f6966ed8000\nclose(3)                                = 0\naccess("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)\nopenat(AT_FDCWD, "/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3\nread(3, "\\177ELF\\2\\1\\1\\3\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0>\\0\\1\\0\\0\\0\\20\\35\\2\\0\\0\\0\\0\\0"..., 832) = 832\nfstat(3, {st_mode=S_IFREG|0755, st_size=2030928, ...}) = 0\nmmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f6966ed0000\nmmap(NULL, 4131552, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f6966800000\nmprotect(0x7f69669e7000, 2097152, PROT_NONE) = 0\nmmap(0x7f6966be7000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e7000) = 0x7f6966be7000\nmmap(0x7f6966bed000, 15072, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f6966bed000\nclose(3)                                = 0\narch_prctl(ARCH_SET_FS, 0x7f6966ed14c0) = 0\nmprotect(0x7f6966be7000, 16384, PROT_READ) = 0\nmprotect(0x7f6967200000, 4096, PROT_READ) = 0\nmprotect(0x7f6966e29000, 4096, PROT_READ) = 0\nmunmap(0x7f6966ed8000, 46345)           = 0\nfstat(1, {st_mode=S_IFCHR|0660, st_rdev=makedev(4, 3), ...}) = 0\nioctl(1, TCGETS, {B38400 opost isig icanon echo ...}) = 0\nbrk(NULL)                               = 0x7fffe8b5d000\nbrk(0x7fffe8b7e000)                     = 0x7fffe8b7e000\nwrite(1, "Hello World!\\n", 13Hello World!\n)          = 13\nexit_group(0)                           = ?\n+++ exited with 0 +++\n')])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("p",[s._v("æœ€å¾Œï¼Œå¦‚æœæƒ³çŸ¥é“å¦‚ä½•çµåˆ ASLR å’Œ prelink æ©Ÿåˆ¶ï¼Œå¯ä»¥åƒè€ƒ")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://cosmoss-vt.github.io/pages/pubs/prelink-yoon-esa14.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Dynamic-prelink: An Enhanced Prelinking Mechanism without Modifying Shared Libraries"),n("OutboundLink")],1),s._v("ï¼Œä»¥å¾Œæœ‰æ™‚é–“æœƒåˆ†äº«æ–‡ç« ã€‚")])]),s._v(" "),n("h3",{attrs:{id:"_3-5-éœæ…‹éˆçµå’Œå‹•æ…‹éˆçµçš„æ¯”è¼ƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-éœæ…‹éˆçµå’Œå‹•æ…‹éˆçµçš„æ¯”è¼ƒ"}},[s._v("#")]),s._v(" 3-5. éœæ…‹éˆçµå’Œå‹•æ…‹éˆçµçš„æ¯”è¼ƒ")]),s._v(" "),n("p",[s._v("åƒè€ƒè‡³ "),n("a",{attrs:{href:"https://stackoverflow.com/questions/1993390/static-linking-vs-dynamic-linking",target:"_blank",rel:"noopener noreferrer"}},[s._v("Static linking vs dynamic linking"),n("OutboundLink")],1),s._v("ï¼Œæ¯”è¼ƒå‹•æ…‹éˆæ¥è·Ÿéœæ…‹éˆæ¥çš„å„ªç¼ºé»")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("éœæ…‹éˆçµ (Static link)")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("å„ªé»")]),s._v(" "),n("ol",[n("li",[s._v("å•Ÿå‹•é€Ÿåº¦æ¯”å‹•æ…‹éˆçµç¨å¾®å¿«ä¸€é»(ä½†ä¹Ÿå–æ±ºæ–¼æŠ€è¡“)")]),s._v(" "),n("li",[s._v("å› ç‚ºä»–å°‡æ‰€æœ‰éœ€è¦çš„æ±è¥¿ã€å‡½å¼åº«æ‰“åŒ…ï¼Œéœæ…‹é€£çµå¾Œçš„åŸ·è¡Œæª”æ¡ˆæ›´å®¹æ˜“åœ¨ä¸åŒç’°å¢ƒé †åˆ©åŸ·è¡Œ")]),s._v(" "),n("li",[s._v("å¾ˆé©åˆåœ¨æœ‰é™çš„è³‡æºç’°å¢ƒä¸‹(é–‹æ©Ÿç¨‹åºã€æ•‘æ´æ¨¡å¼ç­‰)")])])]),s._v(" "),n("li",[n("p",[s._v("ç¼ºé»")]),s._v(" "),n("ol",[n("li",[s._v("ç¨‹å¼è‚¥èƒ–ï¼Œè€—ç¡¬ç¢Ÿã€è¨˜æ†¶é«”è³‡æº")]),s._v(" "),n("li",[s._v("æ›´æ–°å‡½å¼åº«æ™‚è¦é‡æ–°ç·¨è­¯éˆçµæ‰“åŒ…")])])])])]),s._v(" "),n("li",[n("p",[s._v("å‹•æ…‹éˆçµ (Dynamic link)")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("å„ªé»")]),s._v(" "),n("ol",[n("li",[s._v("å‹•æ…‹éˆçµç¨‹å¼å ç”¨è¨˜æ†¶é«”ã€ç¡¬ç¢Ÿç©ºé–“è¼ƒå°")]),s._v(" "),n("li",[s._v("å»¶é²ç¶å®š(lazy binding)æ©Ÿåˆ¶")]),s._v(" "),n("li",[s._v("å¹¾ä¹ç„¡ç—›æ›´æ–°å‡½å¼åº«ï¼Œç¨‹å¼ä¹Ÿå¯ä»¥é †åˆ©åŸ·è¡Œ")])])]),s._v(" "),n("li",[n("p",[s._v("ç¼ºé»")]),s._v(" "),n("ol",[n("li",[s._v("æ¯æ¬¡éƒ½è¦é‡æ–°è§£æç¬¦è™Ÿåœ°å€ï¼Œå‹•æ…‹éˆæ¥å™¨æœƒå ç”¨åŸ·è¡ŒæœŸä¸å°‘çš„CPUæ™‚é–“ï¼Œæ”¹å–„çš„æ©Ÿåˆ¶ç‚ºprelink")]),s._v(" "),n("li",[s._v("DLL Hell - æ›´æ–°å‡½å¼åº«ç™¼ç”Ÿçš„å•é¡Œï¼Œå°è‡´ç¨‹å¼ç„¡æ³•é †åˆ©åŸ·è¡Œ")])])])])])]),s._v(" "),n("h2",{attrs:{id:"å››ã€æœªè§£ä¹‹è¬"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€æœªè§£ä¹‹è¬"}},[s._v("#")]),s._v(" å››ã€æœªè§£ä¹‹è¬")]),s._v(" "),n("ol",[n("li",[s._v("ç‚ºä½•éœ€è¦ PLTï¼Œä¸ç›´æ¥ä½¿ç”¨ GOT å°±å¥½ï¼ŒGOT å…§é è¨­æ”¾ resolver åœ°å€ï¼Œå¦‚æœé‚„æ²’è§£æå°±å»æ›´æ–°é€™å€‹è¡¨é …ï¼Œæœ‰çš„è©±å°±ç›´æ¥è·³è½‰ ?")])]),s._v(" "),n("p",[s._v("åƒè€ƒé€™ç¯‡ "),n("a",{attrs:{href:"https://stackoverflow.com/questions/43048932/why-does-the-plt-exist-in-addition-to-the-got-instead-of-just-using-the-got",target:"_blank",rel:"noopener noreferrer"}},[s._v("Why does the PLT exist in addition to the GOT, instead of just using the GOT?"),n("OutboundLink")],1)]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("å¦‚ä½•é—œæ‰ prelink çš„æ©Ÿåˆ¶ï¼Œé€™æ¨£æˆ‘æ¯”è¼ƒå¥½è¿½è¹¤ GOT PLT çš„æ©Ÿåˆ¶ ğŸ¤£")])]),s._v(" "),n("h3",{attrs:{id:"ğŸ‰-2021-09-26-è§£é–‹-ä¸€åˆ‡éƒ½æ˜¯-gcc-çš„é‹-ğŸ‰"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‰-2021-09-26-è§£é–‹-ä¸€åˆ‡éƒ½æ˜¯-gcc-çš„é‹-ğŸ‰"}},[s._v("#")]),s._v(" ğŸ‰ 2021/09/26 è§£é–‹ - ä¸€åˆ‡éƒ½æ˜¯ GCC çš„é‹ ğŸ‰")]),s._v(" "),n("p",[s._v("ä¹‹å¾Œæˆ‘åˆå›ä¾†è¤‡ç¿’ä¸€éæ™‚ï¼Œæ·±å…¥å»æ‰¾åŸå› ï¼Œç‚ºä»€éº¼æˆ‘çš„ PLT ç¸½æ˜¯å·²ç¶“è¢«éˆæ¥å¥½äº† ?")]),s._v(" "),n("p",[s._v("åœ¨çœ‹åˆ° "),n("a",{attrs:{href:"https://ypl.coffee/dl-resolve/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Understanding _dl_runtime_resolve()"),n("OutboundLink")],1),s._v(" å¾Œï¼Œæˆ‘å°±ç™¼ç¾è©²ä½œè€…ä¸‹äº† "),n("code",[s._v("gcc -Wl,-z,lazy -o hello hello.c")]),s._v(" ç•¶ä¸­çš„ lazy é¸é …ï¼Œç‚ºä»€éº¼è¦ "),n("mark",[s._v("é¡¯å¼æŒ‡å®š lazy")]),s._v("ï¼Œéš¨å¾Œæˆ‘ä½¿ç”¨ "),n("code",[s._v('ld --help | grep "\\-z lazy"')]),s._v(" æŒ‡ä»¤æŸ¥è©¢ï¼Œå¾—åˆ°ä¸‹åˆ—çµæœ")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" -z lazy                     Mark object lazy runtime binding (default)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("å’¦ ? é‚£ç‚ºä½•é è¨­æ˜¯ lazy binding ä½†æ˜¯å»é å…ˆéˆçµå¥½äº†? ç›´åˆ°æˆ‘æ‰¾åˆ°äº†é€™ä¸€ç¯‡\n"),n("a",{attrs:{href:"https://stackoverflow.com/questions/62527697/why-does-gcc-link-with-z-now-by-default-although-lazy-binding-is-the-default",target:"_blank",rel:"noopener noreferrer"}},[s._v("Why does gcc link with '-z now' by default, although lazy binding is the default for ld?"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("å•å•é¡Œçš„äººå•ç‚ºä»€éº¼ ld é è¨­æ˜¯ "),n("code",[s._v("-z lazy")]),s._v("ï¼Œä½†æ˜¯ gcc å»è‡ªå‹•é€çµ¦ linker "),n("code",[s._v("-z now -z relro")]),s._v("  è«‹ linker é¦¬ä¸Šéˆçµè·Ÿé‡å®šä½")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gcc --verbose -o hello_link hello.c\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("COLLECT_GCC_OPTIONS='-v' '-o' 'hello_link' '-mtune=generic' '-march=x86-64'\n /usr/lib/gcc/x86_64-linux-gnu/7/collect2 -plugin /usr/lib/gcc/x86_64-linux-gnu/7/liblto_plugin.so -plugin-opt=/usr/lib/gcc/x86_64-linux-gnu/7/lto-wrapper -plugin-opt=-fresolution=/tmp/cceRjjri.res -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s --build-id --eh-frame-hdr -m elf_x86_64 --hash-style=gnu --as-needed -dynamic-linker /lib64/ld-linux-x86-64.so.2 -pie \n -z now -z relro -o hello_link /\n usr/lib/gcc/x86_64-linux-gnu/7/../../../x86_64-linux-gnu/Scrt1.o /usr/lib/gcc/x86_64-linux-gnu/7/../../../x86_64-linux-gnu/crti.o /usr/lib/gcc/x86_64-linux-gnu/7/crtbeginS.o -L/usr/lib/gcc/x86_64-linux-gnu/7 -L/usr/lib/gcc/x86_64-linux-gnu/7/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/7/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/7/../../.. /tmp/ccdANW6g.o -lgcc --push-state --as-needed -lgcc_s --pop-state -lc -lgcc --push-state --as-needed -lgcc_s --pop-state /usr/lib/gcc/x86_64-linux-gnu/7/crtendS.o /usr/lib/gcc/x86_64-linux-gnu/7/../../../x86_64-linux-gnu/crtn.o\nCOLLECT_GCC_OPTIONS='-v' '-o' 'hello_link' '-mtune=generic' '-march=x86-64'\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("æˆ‘å°±é¦¬ä¸ŠçŸ¥é“äº†ï¼Œå› ç‚ºæˆ‘ä¹‹å‰çš„ç·¨è­¯æ–¹å¼æ˜¯ "),n("code",[s._v("gcc -g -Wall hell.c -o hello")]),s._v("ï¼Œgcc æœƒè‡ªå‹•é è¨­é€ "),n("code",[s._v("-z now -z relro")]),s._v("ï¼Œé›£æ€ªæœƒé€™æ¨£ = =ï¼Œå®³æˆ‘éƒ½è¿½è¹¤ä¸åˆ°å‹•æ…‹éˆçµå™¨è·Ÿ Lazy-binding æ©Ÿåˆ¶ã€‚ä½†æ˜¯å…¶å¯¦é€™éº¼åšæ˜¯æœ‰åŸå› çš„\n"),n("mark",[s._v("å› ç‚º GOT åœ¨ lazy binding æ™‚æœƒè®Šæˆå¯å¯«çš„è¨˜æ†¶é«”å€æ®µï¼Œæœƒé­å— GOT hijacking(overwrite) çš„æ”»æ“Š")]),s._v("ï¼Œå¦‚æœè¼‰å…¥å‰å°±éˆçµå¥½ï¼Œå°±å¯ä»¥æŠŠGOTè®Šæˆå”¯è®€å€æ®µï¼Œå°±æœƒæ¯”è¼ƒå®‰å…¨ï¼Œæ­¤ç¨®æ–¹æ³•å«åš "),n("mark",[s._v("RELRO: RELocation Read-Only")]),s._v("ï¼Œæ˜¯ ubuntu 16.10 å¼•é€²çš„åç‚º\n"),n("mark",[s._v("ELF binary hardening feature")]),s._v("ï¼Œæ‰€ä»¥å¦‚æœå¾€å¾Œè¦è‡ªè¡Œè¿½è¹¤ GOT æ™‚ï¼Œç”¨ gcc ç·¨è­¯æ™‚è¦è¨˜å¾—é¡¯å¼åŠ å…¥ "),n("code",[s._v("-z lazy")]),s._v(" ä¸ç„¶å°±æ˜¯è‡ªè¡Œæ‰‹å‹•éˆçµã€‚")]),s._v(" "),n("p",[s._v("å¦å¤–å› ç‚ºé€™å€‹è¬åº•è§£é–‹ï¼Œä¹Ÿç™¼ç¾å‰é¢æœ‰äº›éŒ¯èª¤ï¼ŒGOT è¡¨å…¶å¯¦å‰ä¸‰é …æ˜¯åŸæœ¬å°±æœ‰å®šç¾©çš„ï¼Œä½†æ˜¯è‹¥å…ˆéˆçµå¥½ï¼Œå°±å¯ä»¥å¾ GOT[1] é–‹å§‹æ”¾ç¬¦è™Ÿä½ç½®äº†ï¼Œå› ç‚ºä¸å†éœ€è¦å‹•æ…‹éˆçµå™¨å¹«å¿™è§£æè·Ÿé‡å®šä½äº†ã€‚")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("GOT é …")]),s._v(" "),n("th",[s._v("ä½œç”¨")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("GOT[0]")]),s._v(" "),n("td",[s._v("ç´€éŒ„åŸ·è¡Œæª”çš„ .dynamic section çš„ä½ç½®ï¼Œé€™sectionç´€éŒ„å¾ˆå¤šå‹•æ…‹éˆçµå™¨çš„éœ€è¦çŸ¥é“çš„è³‡è¨Š(æ­¤åŸ·è¡Œæª”ç›¸ä¾çš„å‡½å¼åº«ç­‰)ï¼Œåšåˆå§‹åŒ–çš„å‹•ä½œ")])]),s._v(" "),n("tr",[n("td",[s._v("GOT[1]")]),s._v(" "),n("td",[s._v("æ”¾ link_map çš„ çµæ§‹é«”çš„ doubly linked listï¼Œå…§æœ‰ç´€éŒ„å‡½å¼åº«è·¯å¾‘è·Ÿåç¨±ç­‰è³‡è¨Šï¼Œåˆå§‹å€¼æ˜¯ 0ï¼Œä½†æ˜¯ç­‰å‹•æ…‹éˆçµå™¨åˆå§‹åŒ–å¾Œå¾—åˆ°æ‰€æœ‰çš„ç›¸ä¾å‡½å¼åº«çš„è³‡è¨Šï¼Œå°±æœƒç”¨é€™ç¨®æ–¹å¼ä¸²èµ·ä¾†ï¼Œéš¨å¾Œæœ‰è¦è§£æçš„ç¬¦è™Ÿå°±æœƒä¸€å€‹ä¸€å€‹ç›¸ä¾çš„å‡½å¼åº«ä¸‹å»æ‰¾")])]),s._v(" "),n("tr",[n("td",[s._v("GOT[2]")]),s._v(" "),n("td",[s._v("ä¸€æ¨£åˆå§‹å€¼æ˜¯ 0ï¼Œç­‰å‹•æ…‹éˆçµå™¨åˆå§‹åŒ–å®Œå¾Œæ‰æœ‰å€¼ï¼Œé€™è£¡æ”¾ _dl_runtime_resolve() çš„å‡½å¼åœ°å€ï¼ŒæŠŠ link_map å‚³å…¥å°±å¯ä»¥é–‹å§‹è§£ææœªçŸ¥çš„ç¬¦è™Ÿä¸¦ä¿®æ”¹ GOT è¡¨")])])])]),s._v(" "),n("p",[s._v("GCC å¹«æˆ‘å€‘è™•ç†å¾ˆå¤šäº‹æƒ…ï¼Œè‹¥æ˜¯æˆ‘å€‘å¿½ç•¥å…¶ä¸­çš„ç´°ç¯€ï¼Œå°±æœƒä¸å°å¿ƒè¸©åˆ°å‘ã€‚ğŸ˜‚ğŸ˜‚ğŸ˜‚")]),s._v(" "),n("h3",{attrs:{id:"åƒè€ƒé€£çµ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åƒè€ƒé€£çµ"}},[s._v("#")]),s._v(" åƒè€ƒé€£çµ")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://ypl.coffee/dl-resolve/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Understanding _dl_runtime_resolve()"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://hockeyinjune.medium.com/relro-relocation-read-only-c8d0933faef3",target:"_blank",rel:"noopener noreferrer"}},[s._v("RELRO: RELocation Read-Only"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.redhat.com/en/blog/hardening-elf-binaries-using-relocation-read-only-relro",target:"_blank",rel:"noopener noreferrer"}},[s._v("Hardening ELF binaries using Relocation Read-Only (RELRO)"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://stackoverflow.com/questions/62527697/why-does-gcc-link-with-z-now-by-default-although-lazy-binding-is-the-default",target:"_blank",rel:"noopener noreferrer"}},[s._v("Why does gcc link with '-z now' by default, although lazy binding is the default for ld?"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"äº”ã€çµè«–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€çµè«–"}},[s._v("#")]),s._v(" äº”ã€çµè«–")]),s._v(" "),n("p",[s._v("é€™ç¯‡æ–‡ç« æˆ‘æ‰¿èªè‡ªå·±æ˜¯è¦ºå¾—é‚„éœ€è¦å†æ•´ç†ï¼Œå› ç‚ºå‹•æ…‹éˆçµæ©Ÿåˆ¶ç›¸å°è¼ƒè¤‡é›œã€‚å¾ŒæœŸé‡å°å‹•æ…‹éˆæ¥çš„æœ€ä½³åŒ–è«–æ–‡å¯èƒ½é‚„è¦å»åˆ†æä¸€ä¸‹ã€‚é‚£ä»¥é€™å¼µå¾ˆæ£’çš„åœ–åšç‚ºçµå°¾ğŸ˜€")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://mdimg.wxwenku.com/getimg/356ed03bdc643f9448b3f6485edc229bb583d3da773c5e44937ad7333eec08f9ee8d6dada3b5682d117d767bbc5ce1b7.jpg",alt:""}})]),s._v(" "),n("ol",[n("li",[s._v("PLT å…§æ¯å€‹å…ƒç´ éƒ½æ˜¯è·³è½‰æŒ‡ä»¤ï¼Œå…ˆè·³å» GOT çœ‹æœ‰æ²’æœ‰å‡½æ•¸åœ°å€ï¼Œæ²’æœ‰å°±è·³å›ä¾†å†è·³å» PLT ç¬¬ä¸€é …å»å«å‹•æ…‹éˆæ¥å™¨è§£æåœ°å€æ›´æ–°ï¼Œæœ‰çš„è©±ç›´æ¥åŸ·è¡Œå°±å¥½ï¼Œç”­è·³å›ä¾†ã€‚")]),s._v(" "),n("li",[s._v("å‹•æ…‹éˆçµæ©Ÿåˆ¶æœ‰ prelink æ–¹æ³•å¯ä»¥åŠ é€ŸåŸ·è¡Œæ™‚é–“ï¼Œä½† prelink è·Ÿ ASLR çš„é—œä¿‚è¦å†å»çœ‹è«–æ–‡ã€‚")]),s._v(" "),n("li",[s._v("å‹•æ…‹éˆçµè·Ÿéœæ…‹éˆçµå„æœ‰å¥½è™•è·Ÿå£è™•ã€‚ä½†æˆ‘èªç‚ºå‹•æ…‹éˆçµæ›´åŠ å½ˆæ€§ã€å„ªé»æ›´å¤šã€‚")])]),s._v(" "),n("h2",{attrs:{id:"å…­ã€åƒè€ƒé€£çµ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…­ã€åƒè€ƒé€£çµ"}},[s._v("#")]),s._v(" å…­ã€åƒè€ƒé€£çµ")]),s._v(" "),n("ol",[n("li",[n("p",[n("a",{attrs:{href:"https://hackmd.io/@rhythm/ry5pxN6NI",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux/ELFå‹•æ…‹éˆæ¥éƒ¨åˆ†æ©Ÿåˆ¶(GOT&PLT)"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.usenix.net/sites/default/files/conference/protected-files/sec15_slides_difederico.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("How the ELF ruined\nChristmas"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.cntofu.com/book/46/linked_and_loader/gothe_plt_yuan_li_jian_xi.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("GOTå’ŒPLTåŸç†ç°¡æ"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"http://brandon-hy-lin.blogspot.com/2015/12/shared-library-plt-got.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Shared Library ä¸­ PLT å’Œ GOT çš„ä½¿ç”¨æ©Ÿåˆ¶"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.gushiciku.cn/pl/p5nO/zh-tw",target:"_blank",rel:"noopener noreferrer"}},[s._v("å‹•æ…‹é€£çµçš„PLTèˆ‡GOT"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://stackoverflow.com/questions/43048932/why-does-the-plt-exist-in-addition-to-the-got-instead-of-just-using-the-got",target:"_blank",rel:"noopener noreferrer"}},[s._v("Why does the PLT exist in addition to the GOT, instead of just using the GOT?"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://darkdust.net/files/GDB%20Cheat%20Sheet.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("gdb cheetsheet"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://github.com/kibercthulhu/gdb-peda-cheatsheet/blob/master/gdb-peda%20cheatsheet.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("gdb-peda cheetsheet"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://github.com/longld/peda",target:"_blank",rel:"noopener noreferrer"}},[s._v("gdb-peda"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"http://rickgray.me/2015/08/07/use-gdb-to-study-got-and-plt/",target:"_blank",rel:"noopener noreferrer"}},[s._v("é€šéGDB èª¿è©¦ç†è§£GOT/PLT"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://luomuxiaoxiao.com/?p=343",target:"_blank",rel:"noopener noreferrer"}},[s._v("è¨ˆç®—æ©ŸåŸç†ç³»åˆ—ä¹‹å…­â€”â€”â€“ å¯åŸ·è¡Œæ–‡ä»¶è©³è§£"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.technovelty.org/linux/plt-and-got-the-key-to-code-sharing-and-dynamic-libraries.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("PLT and GOT - the key to code sharing and dynamic libraries"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://reverseengineering.stackexchange.com/questions/23311/dumping-the-got-with-gdb-at-run-time",target:"_blank",rel:"noopener noreferrer"}},[s._v("Dumping the GOT with gdb at run time"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Prelink",target:"_blank",rel:"noopener noreferrer"}},[s._v("Prelink Wiki"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.twblogs.net/a/5c7d7b8ebd9eee114211f91d",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä½¿ç”¨ Prelink åŠ é€Ÿç¨‹åºå•“å‹•"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://cosmoss-vt.github.io/pages/pubs/prelink-yoon-esa14.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Dynamic-prelink: An Enhanced Prelinking Mechanism without Modifying Shared Libraries"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://csstormq.github.io/blog/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%AF%87%E4%B9%8B%E9%93%BE%E6%8E%A5%EF%BC%8814%EF%BC%89%EF%BC%9A.plt%E3%80%81.plt.got%E3%80%81.got%20%E5%92%8C%20.got.plt%20section%20%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"}},[s._v("è¨ˆç®—æ©Ÿç³»çµ±ç¯‡ä¹‹éŠæ¥ï¼ˆ14ï¼‰ï¼š.pltã€.plt.gotã€.gotå’Œ.got.pltéƒ¨åˆ†ä¹‹é–“çš„å€åˆ¥"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/375510683",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linuxç³»çµ±ä¸­ç·¨è­¯ã€éˆæ¥çš„åŸºçŸ³-ELFæ–‡ä»¶ï¼šæ‰’é–‹å®ƒçš„å±¤å±¤å¤–è¡£ï¼Œå¾å­—ç¯€ç¢¼çš„ç²’åº¦ä¾†æ¢ç´¢"),n("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);a.default=r.exports}}]);