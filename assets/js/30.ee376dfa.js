(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{803:function(e,t,r){"use strict";r.r(t);var o=r(5),a=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("MLIR æ˜¯ä¸€å€‹é–‹æºç·¨è­¯å™¨çš„æ¡†æ¶ï¼Œä¹Ÿæ˜¯ä¸€å¥—å®Œæ•´çš„ toolboxï¼ŒMLIR æ·±å— LLVM å½±éŸ¿ï¼Œå’Œ LLVM çš„ç²¾ç¥æ˜¯ä¸€æ¨£çš„ï¼Œå…¨åå«åš Multi-Level Intermediate Representationï¼Œé€™å¹´é ­è½åˆ° ML éƒ½æœƒèªç‚ºæ˜¯ Machine Learningï¼Œä¸éæœ‰è¶£çš„æ˜¯ï¼ŒMLIR çš„ç¢ºæ˜¯ç‚ºäº†æ©Ÿå™¨å­¸ç¿’è€Œç”Ÿï¼ŒçœŸçš„æ˜¯ç¾éº—çš„å·§åˆğŸ˜‰ï¼Œåœ¨æœ¬ç¯‡æœƒä»‹ç´¹ MLIR æ¦‚å¿µä»¥åŠç›®å‰æœ‰åçš„æ·±åº¦å­¸ç¿’æ¡†æ¶ tensorflowï¼Œä¹‹å¾Œçš„æ–‡ç« æœƒåˆ©ç”¨å®˜ç¶²ä¸Šçš„æ•™å­¸ä¾†å»ºå‡ºä¸€å€‹ç·¨è­¯å™¨ã€‚")]),e._v(" "),r("h2",{attrs:{id:"ä¸€ã€mlir-ç°¡ä»‹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€mlir-ç°¡ä»‹"}},[e._v("#")]),e._v(" ä¸€ã€MLIR ç°¡ä»‹")]),e._v(" "),r("h3",{attrs:{id:"_1-1-ä»€éº¼æ˜¯-mlir"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ä»€éº¼æ˜¯-mlir"}},[e._v("#")]),e._v(" 1-1. ä»€éº¼æ˜¯ MLIR")]),e._v(" "),r("p",[e._v("MLIR å…¶å¯¦å°±è·Ÿ LLVM ä¸€æ¨£ï¼Œæ˜¯ä¸€å€‹é–‹æºç·¨è­¯å™¨çš„æ¡†æ¶ï¼Œæœ‰äº†å®ƒå€‘ï¼Œå…¶å¯¦ä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„å»ºç«‹å‡ºå¯é‡ç”¨è·Ÿå¯æ“´å±•çš„ç·¨è­¯å™¨ã€‚ä¸»è¦ç›®æ¨™ç‚º")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("è™•ç†è»Ÿç¡¬é«”å¤šæ¨£æ€§é€ æˆçš„ç¢ç‰‡åŒ–å•é¡Œ")]),e._v(" "),r("p",[e._v("ç•¶ä»Šæœ€å¤§çš„æŒ‘æˆ°ä¹‹ä¸€ï¼Œå³æ˜¯å¸‚å ´ä¸Šè¨±å¤šä¸åŒçš„è§£æ±ºæ–¹æ¡ˆã€‚çœ‹ä¼¼æ°¸ç„¡æ­¢å¢ƒçš„è»Ÿé«”é¸é …èˆ‡ç¡¬é«”æ¶æ§‹æ¸…å–®ï¼Œé€ æˆç¢ç‰‡åŒ–ç”Ÿæ…‹ç³»çµ±çš„æ“´å¤§ã€‚è®“çµ‚ç«¯åˆ°é›²ç«¯çš„æ“´å……æ€§è®Šå¾—ååˆ†å›°é›£ï¼Œå°æ–¼é–‹ç™¼äººå“¡ä»¥åŠæ–°æŠ€è¡“çš„æ¡ç”¨ä¹Ÿæ›´ç‚ºæŒ‘æˆ°ã€‚æ•ˆèƒ½èˆ‡æ•ˆç‡çš„å¼·çƒˆéœ€æ±‚ï¼Œæ„è¬‚è‘—å…±åŒæ¶æ§‹çš„å¿…è¦æ€§ï¼Œæ‰èƒ½è®“è¨­è¨ˆèˆ‡éƒ¨ç½²æ›´ç‚ºä¾¿åˆ©ã€‚ç•¶ç„¶ MLIR æ˜¯ç”¨ä¾†è™•ç†å’ŒLLVM æ‰€è§£æ±ºçš„ç›¸ä¼¼é–‹ç™¼ä¸Šçš„å•é¡Œï¼Œé€™å€‹ç­‰ä¸€ä¸‹æœƒæåˆ°ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("æ”¯æŒç•°æ§‹çš„ç·¨è­¯ï¼Œé‚£ä»€éº¼æ˜¯ç•°æ§‹è¨ˆç®— ?")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("æ‘©çˆ¾å®šå¾‹çš„æ¥µé™")]),e._v(" "),r("p",[e._v("æ ¹æ“šåŠå°é«”çš„å¾æ¥­äººå“¡å¥‰ç‚ºåœ­è‡¬çš„ã€Œæ‘©çˆ¾å®šå¾‹ï¼ˆMooreâ€™s Lawï¼‰ã€ï¼Œä¾¿é è¨€æ¯åå…«å€‹æœˆç©é«”é›»è·¯ä¸Šæ‰€èƒ½å®¹ç´çš„é›»æ™¶é«”å€‹æ•¸ï¼Œå°±èƒ½è®Šç‚ºåŸä¾†çš„å…©å€ï¼Œè€Œä¸”æˆæœ¬ä¸è®Šã€‚é€™ä½¿å¾—äººå€‘æœ‰æ©Ÿæœƒæ¯éš”åå…«å€‹æœˆç”¨åŒæ¨£çš„åƒ¹éŒ¢ï¼Œè²·åˆ°å…©å€è¨ˆç®—æ•ˆèƒ½çš„é›»è…¦ã€‚ä¸éï¼Œå³ä½¿æ‘©çˆ¾å®šå¾‹åœ¨éå»å¹¾åå¹´ä¾†å¦‚æ­¤æº–ç¢ºï¼Œåœ¨çŸ­æœŸå…§çœ‹èµ·ä¾†ä¹Ÿæœƒä¾ç„¶æœ‰æ•ˆï¼Œä½†æ˜¯ï¼Œé‚„æ˜¯é–‹å§‹æœ‰æ„ˆä¾†æ„ˆå¤šçš„äººé è¨€æ‘©çˆ¾å®šå¾‹çš„æ™‚ä»£å³å°‡çµæŸã€‚æ‘©çˆ¾å®šå¾‹è¢«é è¨€å³å°‡çµæŸçš„åŸå› åƒæ˜¯ï¼ŒåŠå°é«”çµ‚æœ‰å…¶ç‰©ç†æ¥µé™ï¼Œä»¥åŠéš¨è‘—æŠ€è¡“ä¸æ–·ç²¾é€²ï¼Œéœ€è¦çš„ç ”ç™¼æŠ•è³‡æ„ˆä¾†æ„ˆé«˜ç­‰ç­‰ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("ç•°è³ªè¨ˆç®—çš„å‡ºç¾")]),e._v(" "),r("p",[e._v("éš¨è‘—è¿‘å¹´ä¾†çŸ½æ™¶ç‰‡é€¼è¿‘ç‰©ç†çš„æ¥µé™å’Œç¶“æ¿Ÿæˆæœ¬é«˜å‡ï¼Œæ‘©çˆ¾å®šå¾‹å·²è¶¨è¿‘å¤±æ•ˆã€‚ä½¿ç”¨é€šç”¨è™•ç†å™¨ CPU é€™å€‹å‚³çµ±çš„æ–¹æ³•å·²ç„¡æ³•æ»¿è¶³AIçš„å„ç¨®æ‡‰ç”¨å°çˆ†ç™¼çš„å’Œé«˜è¨ˆç®—èƒ½åŠ›çš„éœ€æ±‚ã€‚å› æ­¤ï¼Œå…·æœ‰GPUã€ASICã€FPGAæˆ–å…¶å®ƒåŠ é€Ÿå™¨ï¼ˆAcceleratorï¼‰ç­‰é«˜åº¦å¹³è¡Œã€é«˜å¯†é›†çš„è¨ˆç®—èƒ½åŠ›çš„ç•°è³ªè¨ˆç®—æŒçºŒç™¼å…‰ç™¼ç†±ï¼Œè€Œç•°è³ªè¨ˆç®—ä¹Ÿå°‡æˆç‚ºæ”¯æ’å…ˆé€²å’Œä»¥å¾Œæ›´è¤‡é›œAI æ‡‰ç”¨çš„å¿…ç„¶çš„é¸æ“‡ã€‚")]),e._v(" "),r("p",[e._v("ç•°è³ªè¨ˆç®—ï¼ˆHeterogeneous Computingï¼‰æ˜¯æŒ‡ä½¿ç”¨ä¸åŒé¡å‹æŒ‡ä»¤é›†å’Œé«”ç³»æ¶æ§‹çš„è¨ˆç®—å–®å…ƒçµ„æˆçš„è¨ˆç®—ç³»çµ±ï¼ŒåŒå°é›»è…¦æœ‰ä¸åŒæŒ‡ä»¤é›†çš„ç¡¬é«”è¨­å‚™ï¼Œä¾‹å¦‚ GPU è·Ÿ CPUã€‚ç•°æ§‹è¨ˆç®—æ˜¯æ€§èƒ½ã€æˆæœ¬å’ŒåŠŸè€—å‡è¡¡çš„æŠ€è¡“ï¼ŒåŒæ™‚ä¹Ÿæ˜¯è®“æœ€é©åˆçš„å°ˆç”¨ç¡¬é«”å»åšæœ€é©åˆçš„äº‹å¦‚å¯†é›†è¨ˆç®—æˆ–å¤–è¨­ç®¡ç†ç­‰ï¼Œå¾è€Œé”åˆ°æ€§èƒ½å’Œæˆæœ¬çš„æœ€å„ªåŒ–ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("ç·¨è­¯å™¨çš„é‡è¦æ€§")]),e._v(" "),r("p",[e._v("å› ç‚ºç¡¬é«”è³‡æºçš„æ¥µé™ï¼Œæˆ‘å€‘éœ€è¦å¦¥å–„çš„è¦åŠƒã€æœ€ä½³åŒ–æˆ‘å€‘çš„æŒ‡ä»¤ä¾†é”åˆ°æœ€ä½³åŒ–ç¡¬é«”ä½¿ç”¨ç‡çš„åŠŸç”¨ï¼Œä¾‹å¦‚ æŒ‡ä»¤æµæ°´ç·š(pipeline)æŠ€è¡“ã€äº‚åºåŸ·è¡Œ(out-of-order execution)ç­‰ã€‚åŒå°é›»è…¦ä½†æ˜¯ä¸åŒæŒ‡ä»¤é›†æ¶æ§‹çš„ CPUã€GPUã€‚æˆ‘å€‘éœ€è¦ç·¨è­¯å™¨å¹«æˆ‘å€‘ç”¢ç”Ÿã€æœ€ä½³åŒ–å°æ‡‰æŒ‡ä»¤é›†çš„ç¨‹å¼ç¢¼ï¼Œæ‰èƒ½åœ¨æœ‰é™çš„è³‡æºä¸­æ¦¨å‡ºæ›´é«˜çš„æ•ˆèƒ½ã€‚")])])])]),e._v(" "),r("li",[r("p",[e._v("æ¸›å°‘ç‰¹å®šé ˜åŸŸèªè¨€(domain-specific language, DSL)ç·¨è­¯å™¨çš„é–‹ç™¼æˆæœ¬ï¼Œé‚£ä»€éº¼æ˜¯ç‰¹å®šé ˜åŸŸèªè¨€ DSL (Domain-specific language) ? ç‚ºä»€éº¼è¦ä½¿ç”¨é ˜åŸŸç‰¹å®šèªè¨€ï¼Ÿ")]),e._v(" "),r("p",[e._v("ã€Œdomain-specific languagesã€å¯ä»¥æ³›æŒ‡ä»»ä½•ç‰¹å®šé ˜åŸŸçš„èªè¨€ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯ä¸€ç¨®é‡å°ç‰¹å®šé¡å‹å•é¡Œçš„è¨ˆç®—æ©Ÿèªè¨€ã€‚ä¾‹å¦‚ UMLã€XMLï¼Œç”šè‡³é€£ C#ã€Java éƒ½ç®—æ˜¯ç‰¹å®šé ˜åŸŸçš„èªè¨€ï¼Œå› ç‚ºå®ƒå€‘éƒ½æ˜¯é‡å°ç‰¹å®šç›®çš„ã€ï¼ˆè»Ÿé«”é–‹ç™¼ï¼‰ï¼Œç”¨æ–¼ç‰¹å®šå ´åˆçš„èªè¨€ï¼Œé€™æ˜¯æ¯”è¼ƒå»£ç¾©çš„çœ‹æ³•ã€‚ä¸éï¼Œå°±è»Ÿé«”é–‹ç™¼é€™å¡Šé ˜åŸŸè€Œè¨€ï¼ŒUMLã€C#ã€Java å¯é‹ç”¨æ–¼å„é¡å‹çš„è»Ÿé«”é–‹ç™¼ï¼Œæ‰€ä»¥æˆ‘å€‘é€šå¸¸å°‡å®ƒå€‘è¦–ç‚ºé€šç”¨ç›®çš„èªè¨€ã€‚DSL åªç”¨åœ¨æŸäº›ç‰¹å®šçš„é ˜åŸŸã€‚æ¯”å¦‚ç”¨ä¾†é¡¯ç¤ºç¶²é çš„HTMLï¼Œä»¥åŠ Emacs æ‰€ä½¿ç”¨çš„ Emac LISP èªè¨€ã€æè¿°å»ºç½®è»Ÿé«”çš„ makeã€ant å’Œ rakeï¼Œæˆ–è€…ç”¨æ–¼å»ºæ§‹èªè¨€çš„ lexx å’Œ yaccã€ç”šè‡³æ˜¯æŸ¥è©¢èªè¨€ï¼ˆSQLã€XPath ç­‰ï¼‰ã€æ‰€æœ‰æ¨¡æ¿èªè¨€ï¼ˆDjangoã€Smarty ç­‰ï¼‰ã€shell è…³æœ¬ã€è³‡æ–™å„²å­˜å’Œäº¤æ›èªè¨€ï¼ˆXMLã€YAML ç­‰ï¼‰ï¼Œä»¥åŠ LaTexã€æˆ– CSS ç­‰èªè¨€ã€‚ä½¿ç”¨ DSLï¼Œé€šééš±è—æŠ€è¡“ç´°ç¯€ï¼ŒDSL å¯ä»¥è®“ä½¿ç”¨è€…é©æ‡‰ç³»çµ±ï¼Œè€Œç„¡éœ€å¤ªå¤šæŠ€è¡“é–‹ç™¼äººå“¡ã€‚å®ƒå¯ä»¥æ›´è¼•é¬†åœ°èˆ‡é–‹ç™¼äººå“¡ã€ç¶“ç†ã€å®¢æˆ¶æˆ–æœ€çµ‚ç”¨æˆ¶ç­‰äº¤è«‡ã€‚")])])]),e._v(" "),r("p",[e._v("æ‰€ä»¥ï¼Œå› ç‚ºç•°æ§‹è¨ˆç®—çš„èˆˆèµ·åŠç¡¬é«”çš„å¤šæ¨£æ€§ï¼Œé€ å°±é€™äº›ç”¨ä¾†æè¿°åœ–çš„ IR / DSL å¤šæ¨£çš„ç·¨è­¯ç”Ÿæ…‹ï¼Œä½¿å¾—é–‹ç™¼æ•´åˆä¸Šå¸¸å¸¸å‡ºç¾å•é¡Œï¼Œæ‰€ä»¥æ‰éœ€è¦ MLIR ä¾†è§£æ±ºé€™äº›å•é¡Œï¼Œèˆ‡ LLVM è§£æ±ºå‚³çµ±ç·¨è­¯å™¨çš„é–‹ç™¼æ•´åˆå•é¡Œæœ‰ç•°æ›²åŒå·¥ä¹‹å¦™ï¼ŒGoogle åœ¨ MLIR è¨­è¨ˆä¸Šä¹Ÿåƒç…§äº†ä¸å°‘ LLVM çš„ç²¾ç¥åŠç†å¿µã€‚")]),e._v(" "),r("h3",{attrs:{id:"_1-2-åƒè€ƒé€£çµ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-åƒè€ƒé€£çµ"}},[e._v("#")]),e._v(" 1-2. åƒè€ƒé€£çµ")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://www.huanlintalk.com/2008/05/domain-specific-languages.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é–‹ç™¼äººå“¡çš„é€†è¥²ï¼š Domain-Specific Languages"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://blog.maxkit.com.tw/2013/12/dsl-domain-specific-language.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("DSL - Domain Specific Language ç°¡ä»‹"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.ithome.com.tw/node/77196",target:"_blank",rel:"noopener noreferrer"}},[e._v("ç•°æ§‹è¨ˆç®—â”€ åˆ†è€Œæ²»ä¹‹çš„å¹³è¡Œè¨ˆç®—"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"äºŒã€mlir-è·Ÿ-tensorflow"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€mlir-è·Ÿ-tensorflow"}},[e._v("#")]),e._v(" äºŒã€MLIR è·Ÿ Tensorflow")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("æ·±åº¦å­¸ç¿’æ¡†æ¶")]),e._v(" "),r("th",[e._v("Tensorflow 2.0 Icon")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[r("img",{attrs:{src:"https://analyticsindiamag.com/wp-content/uploads/2018/04/all_libraries.png",alt:""}})]),e._v(" "),r("td",[r("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmL-EKi4eYdSyfVV2X9rpXTQ6xzQ4ik9-B4g&usqp=CAU",alt:""}}),r("br"),e._v("Tensorflow æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€æœ‰åçš„æ·±åº¦å­¸ç¿’æ¡†æ¶ä¹‹ä¸€ï¼Œç”± Google é–‹ç™¼ï¼Œå¯ä»¥å¹«åŠ©æˆ‘å€‘å»ºç«‹å‡ºå®Œæ•´çš„ç¥ç¶“ç¶²è·¯ã€‚")])])])]),e._v(" "),r("h3",{attrs:{id:"_2-1-çš„åŸ·è¡Œæ–¹å¼-è¨ˆç®—åœ–"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-çš„åŸ·è¡Œæ–¹å¼-è¨ˆç®—åœ–"}},[e._v("#")]),e._v(" 2-1. çš„åŸ·è¡Œæ–¹å¼ - è¨ˆç®—åœ–")]),e._v(" "),r("p",[e._v("åœ¨æ·±åº¦å­¸ç¿’æ¨¡å‹ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨è¨ˆç®—åœ–ä¾†è¡¨ç¤ºç¯€é»ä¹‹é–“çš„é‹ç®—é—œä¿‚ä»¥åŠå®šç¾©æ•´å€‹ç¥ç¶“ç¶²è·¯çš„æ¶æ§‹ã€‚ç¬¦è™Ÿå¼çš„è¨ˆç®—åœ–çµæ§‹ï¼Œå¯ä»¥å°‡æ•¸å­¸è¡¨ç¾å¼èˆ‡çœŸæ­£çš„è³‡æ–™å…§å®¹åˆ†é›¢ï¼Œè€Œä½¿åŸå§‹ç¢¼æ›´ç‚ºè¿‘ä¼¼æ–¼ç´™ç­†çš„ç†è«–æ¨å°")]),e._v(" "),r("img",{attrs:{src:"https://miro.medium.com/max/700/1*vPb9E0Yd1QUAD0oFmAgaOw.png",width:"500"}}),e._v(" "),r("p",[e._v("ä½¿ç”¨è¨ˆç®—åœ–è¡¨ç¤ºç¥ç¶“ç¶²è·¯ï¼Œæœ‰å¹¾å€‹å„ªé»")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("å¯è®€æ€§")]),e._v(" "),r("p",[e._v("ä»¤é¡ç¥ç¶“ç¶²è·¯çš„ç†è«–å»ºæ§‹è€…ï¼Œèƒ½æ›´è¼•é¬†çš„ç·¨å¯«ç›´è¦ºå¼çš„ç¨‹å¼ç¢¼ï¼Œä¹Ÿå¢åŠ äº†åŸå§‹ç¢¼çš„æ˜“è®€æ€§ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("å¹³è¡Œè¨ˆç®—")]),e._v(" "),r("p",[e._v("éœ€è¦è€—è²»è¨±å¤šé‹ç®—èƒ½åŠ›çš„æ¢¯åº¦é‹ç®—ï¼Œè—‰ç”±å°è£æˆè¨ˆç®—åœ–ä¸­é‹ç®—å…ƒè£¡çš„å±¬æ€§ï¼Œåœ¨åŸ·è¡Œè¨ˆç®—åœ–æ™‚ï¼Œæ ¹æ“šé‹ç®—å…ƒçš„ç‰¹æ€§ï¼Œåœ¨åŸ·è¡ŒæœŸé–“åˆ†æ•£åˆ°ä¸åŒçš„è¨­å‚™ä¸Šï¼Œå¦‚åˆ†é…åˆ°ä¸åŒ GPUã€ä¸åŒä¸»æ©Ÿç­‰ï¼Œå¹³è¡ŒåŒ–é‹ç®—æ˜¯æœ€å¤§çš„å¥½è™•ï¼Œç”±ä¸Šåœ–å¯ä»¥çŸ¥é“åŠ æ³•è·Ÿä¹˜æ³•äº’ä¸ç›¸å¹²ã€å½¼æ­¤ç¨ç«‹ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥åˆ©ç”¨åœ–çš„æ‹“æ¨¸å»é€²è¡Œé‹ç®—è³‡æºçš„åˆ†é…ï¼Œä»¥æœ€æœ‰æ•ˆçš„æ–¹å¼åŸ·è¡Œè¨ˆç®—åœ–ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("å¯æ”œæ€§")]),e._v(" "),r("p",[e._v("è¨ˆç®—åœ–çš„è¡¨ç¤ºå’Œ IR ä¸€æ¨£ç¨ç«‹æ–¼ç¨‹å¼èªè¨€èˆ‡å¹³å°çš„ç¨‹å¼ç‘ªã€‚æƒ³è¦è—‰ç”±è¨ˆç®—åœ–æ¢å¾©æˆä»»ä½•ç¨‹å¼èªè¨€çš„è¡¨ç¤ºæ˜¯å¯è¡Œçš„ã€‚")])])]),e._v(" "),r("p",[e._v("è¨ˆç®—åœ–åˆåˆ†ç‚ºå‹•æ…‹è¨ˆç®—åœ–ï¼ˆdynamic computational graphï¼‰å’Œéœæ…‹è¨ˆç®—åœ–ï¼ˆstatic computational graphï¼‰ã€‚")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("PyTorch ä»¥å‹•æ…‹è¨ˆç®—åœ–ä¾†å»ºæ§‹ç¥ç¶“ç¶²è·¯ï¼Œåœ¨åŸ·è¡Œæ™‚å‹•æ…‹å¾®åˆ†(runtime autodiff)ï¼Œé€™æ¨£çš„æ–¹å¼æœ‰åˆ©æ–¼ç›´è­¯å¼èªè¨€ï¼Œå»å‹•æ…‹åŸ·è¡Œè¨ˆç®—åœ–ä¸­çš„æ¯ä¸€å€‹å­åœ–ä¸­çš„é‹ç®—ï¼Œä¸¦åŠæ™‚å¾—åˆ°é‹ç®—çš„çµæœã€‚")])]),e._v(" "),r("li",[r("p",[e._v("Tensorflow ä»¥éœæ…‹è¨ˆç®—åœ–ä¾†å»ºæ§‹ç¥ç¶“ç¶²è·¯ï¼Œç‚ºäº‹å…ˆè‡ªå‹•å¾®åˆ†(ahead-of-time audodiff)ã€‚å› ç‚ºå·²çŸ¥è¨ˆç®—æµç¨‹éƒ½å·²é€éè¨ˆç®—åœ–è¡¨é”ï¼Œæ‰€ä»¥ç·¨è­¯å™¨å¯ä»¥é‡å°åœ–å½¢ä¸­çš„å–®ä¸€é‹ç®—å…ƒï¼Œç”šè‡³æ•´å¼µå­åœ–åšå„ªåŒ–ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå°æ–¼ç•°è³ªè¨ˆç®—ç’°å¢ƒï¼ˆåŒ…æ‹¬ GPU å’Œ CPUï¼‰ï¼Œå¯ä»¥å…ˆè¡Œé…ç½®é‹ç®—å…ƒåˆ°èƒ½é”åˆ°æœ€ä½³åˆ©ç”¨çš„è¨­å‚™ï¼Œè€Œå®Œæˆæœ‰æ•ˆåœ°åˆ†æ•£å’Œå¹³è¡Œé‹ç®—ã€‚")])])]),e._v(" "),r("h3",{attrs:{id:"_2-2-tensorflow-åŸ·è¡Œè¨ˆç®—åœ–çš„æµç¨‹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-tensorflow-åŸ·è¡Œè¨ˆç®—åœ–çš„æµç¨‹"}},[e._v("#")]),e._v(" 2-2. Tensorflow åŸ·è¡Œè¨ˆç®—åœ–çš„æµç¨‹")]),e._v(" "),r("p",[e._v("é¦–å…ˆåƒè€ƒä¸‹é¢é€™å¼µåœ–ï¼Œé—¡è¿°äº† tensorflow çš„åŸ·è¡Œç²¾éš¨ã€‚")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("åœ–ä¸€")]),e._v(" "),r("th",[e._v("åœ–äºŒ")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[r("img",{attrs:{src:"https://i.imgur.com/lkc0vqd.png",width:"500"}})]),e._v(" "),r("td",[r("img",{attrs:{src:"https://i.imgur.com/HrLEbH4.png",width:"500"}})])])])]),e._v(" "),r("p",[e._v("é¦–å…ˆæˆ‘å€‘å…ˆç”¨ä¸åŒçš„ç¨‹å¼èªè¨€ï¼Œå»å»ºæ§‹ tensorflow è¨ˆç®—åœ–æ¨¡å‹å‡ºä¾†ï¼Œç•¶è¦åŸ·è¡Œè¨ˆç®—åœ–æ¨¡å‹æ™‚ï¼Œä¸Šåœ–çš„æœ€å³å´æ˜¯ tensorflow runtimeï¼Œæœ‰å…©å€‹å…ƒä»¶ï¼Œä¸€å€‹æ˜¯åŸ·è¡Œå™¨(Executor)ï¼Œç”¨ä¾†åŸ·è¡Œè¨ˆç®—åœ–é‹ç®—çš„ï¼Œç•¶ç¢°åˆ°æ¯ä¸€å€‹ç¯€é»æ™‚ï¼Œéƒ½æœƒå»æŸ¥è©¢å¦ä¸€å€‹å…ƒä»¶ Kernelï¼Œç„¶å¾Œæ‰¾åˆ°åˆé©çš„ kernelï¼Œç„¶å¾Œåœ¨åŸ·è¡Œå°æ‡‰çš„é‹ç®—ã€‚")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://www.cellstrat.com/wp-content/uploads/2020/04/Grappler.png",alt:""}})]),e._v(" "),r("p",[e._v("ç•¶æˆ‘å€‘ç”¨ç¨‹å¼èªè¨€å»å®šç¾©è¨ˆç®—åœ–å¾Œï¼Œtensorflow æœ‰ä¸€å€‹åœ–çš„æœ€ä½³åŒ–å·¥å…·åç‚º "),r("code",[e._v("Grappler")]),e._v("ï¼Œå»ç°¡åŒ–åœ–ä»¥åŠä¸€äº›æœ€ä½³åŒ–çš„è™•ç†ï¼Œå¯ä»¥æ›´æœ‰æ•ˆç‡çš„è·‘åœ¨å¤§å¤šæ•¸çš„ç¡¬é«”æ¶æ§‹ä¸Šã€‚")]),e._v(" "),r("p",[e._v("::: info\nä»€éº¼æ˜¯ op ? ä»€éº¼æ˜¯ kernel ? æºè‡ª "),r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/100418869",target:"_blank",rel:"noopener noreferrer"}},[e._v("æ·±åº¦å­¸ç¿’æ¡†æ¶éš¨æƒ³ï¼ˆä¸€ï¼‰ï¼šOpèˆ‡Kernel"),r("OutboundLink")],1)]),e._v(" "),r("ul",[r("li",[e._v("Kernel å…¶å¯¦å°±æ˜¯å° Tensor é€²è¡Œæ“ä½œçš„ä¸€å€‹å‡½æ•¸ï¼Œä¸€æ®µè¨ˆç®—é‚è¼¯ï¼ŒTensor In Tensor Outï¼Œæ˜¯å…·é«”çš„è¨ˆç®—ã€å¯¦ç¾æ–¹æ³•(è¿‘çœ‹)ã€‚")]),e._v(" "),r("li",[e._v("Op å°±æ˜¯ Kernel çš„é›†åˆï¼Œä¸€å€‹Opä»£è¡¨çš„æ˜¯æœ‰ä¸€å®šå…±æ€§çš„å¤šå€‹ Kernelï¼Œå…¶å¯¦å°±æ˜¯ kernel çš„æŠ½è±¡åŒ–ï¼Œæ˜¯æ¦‚å¿µã€æˆ‘å€‘ä¸€èˆ¬äººæ‰€çœ‹åˆ°çš„é‹ç®—(é çœ‹)ã€‚")])]),e._v(" "),r("p",[r("mark",[e._v("é›–ç„¶åœ¨è¨ˆç®—åœ–ä¸Šæˆ‘å€‘æ˜¯ç”¨Opä¾†è¡¨ç¤ºä¸€å€‹å€‹çš„ç¯€é»ï¼Œä½†å¯¦éš›ä¸Šï¼Œè¨ˆç®—åœ–ä¸Šçš„æ¯å€‹ç¯€é»ä»£è¡¨çš„ä¸€å€‹Kernel")]),e._v(" ã€‚å› ç‚ºåœ¨è¨ˆç®—åœ–ä¸Šæˆ‘å€‘é™¤äº†å­˜å„²Opæœ¬èº«çš„é…ç½®å±¬æ€§ä¹‹å¤–ï¼Œé‚„å­˜å„²äº†ä¸€äº›é¡å¤–çš„å±¬æ€§ï¼ˆå¦‚Deviceã€DataTypeç­‰ï¼‰ã€‚åŸºæ–¼Opçš„é…ç½®å’Œé€™äº›é¡å¤–çš„é…ç½®ï¼Œæˆ‘å€‘å¯ä»¥ç¢ºåˆ‡çš„ç‚ºæ¯å€‹ç¯€é»æ‰¾åˆ°å”¯ä¸€ä¸€å€‹å°æ‡‰çš„ Kernelã€‚Graph ç¯€é»ä»£è¡¨æ“ä½œ "),r("code",[e._v("Ops")]),e._v("ï¼ˆä¾‹å¦‚ Addã€MatMulã€Conv2D ç­‰ï¼‰ã€‚é€™ä»£è¡¨æŠ½è±¡çš„è¨­å‚™ã€åŸ·è¡Œå¾Œç«¯å’Œèªè¨€ç„¡é—œçš„ APIã€‚ Graph åéä¾†ç”±ç”¨ C++ ç·¨å¯«çš„ Op Kernels å¯¦ç¾ï¼Œå°ˆé–€ç”¨æ–¼ "),r("code",[e._v("<Type, Device>")]),e._v(" å¹³å°ã€‚")]),e._v(" "),r("p",[e._v("æœƒæœ‰é€™å±¤æŠ½è±¡åŒ–æœ‰å…©å€‹åŸå› ")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("å¾ç¨‹å¼è¨­è¨ˆçš„è§’åº¦")]),e._v(" "),r("p",[e._v("åœ¨ TensorFlow ä¸­ï¼Œ"),r("code",[e._v("MatMul")]),e._v(" op å°æ‡‰çš„ kernel æ˜¯ "),r("code",[e._v("class MatMulOp<Device, T, USE_CUBLAS>")]),e._v("ã€‚é€™å€‹æ¨¡æ¿é¡åˆ¥çš„æ¯ä¸€å€‹å…¨ç‰¹åŒ–å°æ‡‰çš„éƒ½æ˜¯ä¸€å€‹çœŸæ­£çš„ "),r("code",[e._v("kernel")]),e._v("ï¼Œæ‰€ä»¥åœ¨"),r("code",[e._v("MatMul")]),e._v(" op é€™å€‹æ¦‚å¿µä¹‹ä¸‹ï¼Œå…¶å¯¦æœ‰é‡å°ä¸åŒçš„ kernel é€²è¡Œç‰¹åŒ–ï¼Œè¦ç”¨åˆ°å“ªç¨® kernel ç·¨è­¯å™¨å†å»å¯¦ä¾‹åŒ–ã€‚ (æ¨¡æ¿çœŸçš„è¦å­¸å¥½ğŸ˜‚)ï¼Œä¾‹å¦‚")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("CPU å¯¦ç¾çš„é‡å°æ–¼ float è³‡æ–™é¡å‹çš„ kernelï¼ˆ"),r("code",[e._v("MatMulOp<kCPU, float, false>")]),e._v("ï¼‰")])]),e._v(" "),r("li",[r("p",[e._v("GPU ä¸Šä½¿ç”¨ cublas å¯¦ç¾çš„é‡å° float çš„ kernelï¼ˆ"),r("code",[e._v("MatMulOp<kGPU, float, true>")]),e._v("ï¼‰")])]),e._v(" "),r("li",[r("p",[e._v("GPU ä¸Šä¸ç”¨ cublas å¯¦ç¾çš„é‡å° half è³‡æ–™é¡å‹çš„ kernelï¼ˆ"),r("code",[e._v("MatMulOp<kGPU, half, false>")]),e._v("ï¼‰")])])])]),e._v(" "),r("li",[r("p",[e._v("ç°¡åŒ–åœ–åˆ†æçš„è¤‡é›œåº¦")]),e._v(" "),r("p",[e._v("ç‚ºäº†ç°¡åŒ–åœ–åˆ†æçš„è¤‡é›œæ€§ï¼Œæˆ‘å€‘æŒ‰ç…§æŸç¨®è¦å‰‡å»åˆä½µå¤šå€‹ Kernelï¼Œä¸¦åœ¨åœ–åˆ†ææ™‚æŠŠå¤šå€‹Kernelçœ‹ä½œä¸€å€‹ï¼Œå‘½åç‚º Opï¼Œæœ‰åˆ©æ–¼ä¹‹å¾Œæœ€ä½³åŒ–çš„å·¥ä½œã€‚")])])]),e._v(" "),r("p",[e._v("é †é“ä¸€æï¼Œæœ‰å¯èƒ½ op é‚„æœƒç‰¹åŒ–å‡ºæ›´å¤š opï¼Œå†ç‰¹åŒ–ä¸åŒçš„ kernelï¼Œé€™å°±è¦çœ‹å·¥ç¨‹å¸«å¦‚ä½•å»è¨­è¨ˆã€‚ä¾‹å¦‚ :")]),e._v(" "),r("ol",[r("li",[e._v("æˆ‘å€‘å¯ä»¥æŠŠ "),r("code",[e._v("Conv1D")]),e._v("ã€"),r("code",[e._v("Conv2D")]),e._v(" å’Œ "),r("code",[e._v("Conv3D")]),e._v(" å…± 3 å€‹ op åˆä½µæˆä¸€å€‹ "),r("code",[e._v("Conv")]),e._v(" opï¼Œå†è®“ä½¿ç”¨è€…æ±ºå®šè¦ç”¨å“ªä¸€ç¨®å·æ©Ÿé‹ç®—ã€‚")]),e._v(" "),r("li",[r("code",[e._v("Conv2D")]),e._v(" op æ‹†æˆå¾ˆå¤šå€‹ opï¼Œä¾‹å¦‚ "),r("code",[e._v("CpuConv2D")]),e._v(", "),r("code",[e._v("GpuConv2D")]),e._v(", "),r("code",[e._v("CpuConv2DForFloat")]),e._v(", "),r("code",[e._v("GpuConv2DForHalf")]),e._v("ç­‰ç­‰ï¼Œä½¿å¾—æ¯å€‹ op éƒ½åªå°æ‡‰æ›´å°‘ï¼ˆç”šè‡³åªæœ‰ä¸€å€‹ï¼‰kernelã€‚")])]),e._v(" "),r("p",[e._v("å› æ­¤ï¼Œop å°±åƒæ˜¯ä¸€å€‹æŠ½è±¡åŒ–çš„æ¦‚å¿µï¼Œç°¡åŒ–åœ–çš„åˆ†æè¤‡é›œåº¦ï¼Œè€Œå†æ·±å…¥ä¸€é»çœ‹ï¼Œæ¯å€‹ç¯€é»éƒ½æ˜¯ç‰¹åŒ–çš„ kernelï¼Œå®šç¾©è‘—é‹ç®—æ–¹æ³•ã€é‹ç®—å‹æ…‹ã€‚è€Œæˆ‘å€‘çš„  TensorFlow executor æœƒæ ¹æ“šç¡¬é«”æ¶æ§‹å»åŸ·è¡Œé€™äº› op-kernelï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œåœ¨ CPUã€GPU æœ‰ä¸åŒçš„ç‰¹åŒ–èˆ‡å¯¦ä½œã€‚\n:::")]),e._v(" "),r("h3",{attrs:{id:"_2-3-é ­ç—›çš„è½‰æ›å·¥ä½œ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-é ­ç—›çš„è½‰æ›å·¥ä½œ"}},[e._v("#")]),e._v(" 2-3. é ­ç—›çš„è½‰æ›å·¥ä½œ")]),e._v(" "),r("img",{attrs:{src:"https://4.bp.blogspot.com/-3cWrY7tjhdg/XdZMbMTD8XI/AAAAAAAABFc/OEWImWJ7S2IbdwlTKnA-57GMw231DaPdgCLcBGAsYHQ/s1600/0_4hrhTgHlQ-c1xmUR.png",width:"500"}}),e._v(" "),r("p",[e._v("ä¸Šåœ–æ˜¯ tensorflow çš„è¨ˆç®—åœ–ç·¨è­¯ç”Ÿæ…‹ç³»çµ± "),r("mark",[e._v("å¯¦éš›ä¸Šæ›´åŠ è¤‡é›œ")]),e._v(" ï¼ŒåŒ…å«äº†ä¸åŒç¨®ç·¨è­¯å™¨è·Ÿæœ€ä½³åŒ–å™¨ï¼Œæœƒåœ¨è»Ÿé«”åˆ°ç¡¬é«”é–“é€²è¡Œå¤šå±¤(Multi-levle) çš„æœ€ä½³åŒ–ï¼Œæœ‰æ™‚åœ¨ä¸åŒå±¤ç´šä¹‹é–“çš„è½‰æ›æ™‚ï¼Œæœƒé‡åˆ°ä¸€äº›ä»¤äººè²»è§£çš„ç·¨è­¯å™¨éŒ¯èª¤æˆ–æ˜¯åŸ·è¡ŒæœŸéŒ¯èª¤ï¼Œç¨å¾Œæœƒæåˆ°ã€‚å¦‚åŒä¸Šåœ–ï¼ŒTensorFlow graphs æœƒä»¥ä¸åŒæ–¹å¼åŸ·è¡Œè¨ˆç®—ã€‚")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("å¦‚ 2-2 å°ç¯€æ‰€è¿°ï¼ŒæŠŠè¨ˆç®—åœ–é€åˆ° TensorFlow executor æ ¹æ“šç¯€é»å»åŸ·è¡Œ kernel é‹ç®—ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("æŠŠè¨ˆç®—åœ–è½‰æˆ "),r("code",[e._v("XLA High-Level Optimizer representation (XLA HLO)")]),e._v("ï¼Œå†åˆ©ç”¨ LLVM è½‰æˆ CPUã€GPU çš„æŒ‡ä»¤é›†æ¶æ§‹ï¼Œæˆ–æ˜¯ç›´æ¥ç¹¼çºŒä½¿ç”¨ç”¢ç”Ÿ TPU çš„æŒ‡ä»¤é›†æ¶æ§‹ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("æŠŠè¨ˆç®—åœ–è½‰æˆ "),r("code",[e._v("Tensor RT")]),e._v("ã€"),r("code",[e._v("nGraph")]),e._v(" è¡¨ç¤ºå‹ï¼Œå†é€éç·¨è­¯å™¨è½‰æˆç‰¹å®šç¡¬é«”æ¶æ§‹æŒ‡ä»¤ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("æŠŠè¨ˆç®—åœ–è½‰æˆ "),r("code",[e._v("tensorflow lite")]),e._v(" æ ¼å¼ï¼Œå¯ä»¥ç”¨ TensorFlow Lite runtime å»åŸ·è¡Œæ­¤è¨ˆç®—åœ–ã€‚æˆ–è€…é€šé Android ç¥ç¶“ç¶²çµ¡ APIï¼ˆNNAPIï¼‰æˆ–ç›¸é—œæŠ€è¡“å°‡å…¶é€²ä¸€æ­¥è½‰åŒ–ï¼Œä»¥åœ¨ GPU æˆ– DSP ä¸Šé‹è¡Œã€‚")])])]),e._v(" "),r("p",[e._v("ç•¶ç„¶ï¼Œä¹Ÿå­˜åœ¨æ›´è¤‡é›œçš„è·¯å¾‘ï¼Œåƒæ˜¯ä½¿ç”¨ Grappler é€²è¡Œç¥ç¶“ç¶²è·¯æ¯å±¤çš„æœ€ä½³åŒ–ï¼Œå»æœ€ä½³åŒ–è¨ˆç®—åœ–ã€‚")]),e._v(" "),r("p",[e._v("æˆ‘å€‘éœ€è¦æˆ‘å€‘éœ€è¦å°‡ç¥ç¶“ç¶²è·¯çš„æ¨¡å‹ç·¨è­¯åˆ°ä¸åŒçš„ç¡¬é«”è¨­å‚™ä¸Šï¼Œ"),r("code",[e._v("XLA HLO")]),e._v("ã€"),r("code",[e._v("Tensor RT")]),e._v("ã€"),r("code",[e._v("nGraph")]),e._v("ã€"),r("code",[e._v("Core ML")]),e._v("ã€"),r("code",[e._v("TensorFlow Lite")]),e._v(" é€™å¹¾ç¨® IR (æˆ– DSLï¼Œå› ç‚ºæ˜¯ç”¨ä¾†æè¿°è¨ˆç®—åœ–æ¨¡å‹çš„) é›–ç„¶ç›¸ä¼¼ã€ä½†ä»ç„¶æ˜¯ä¸åŒçš„ IRï¼Œæˆ‘å€‘ä»¥å…¶ä¸­ä¸€ç¨®è½‰åŒ–æ ¼å¼"),r("code",[e._v("XLA HLO")]),e._v("ç‚ºä¾‹ã€‚")]),e._v(" "),r("img",{attrs:{src:"https://i.imgur.com/h256x9y.png",width:"500"}}),e._v(" "),r("p",[e._v("é€™ç¨®ç”Ÿæ…‹çš„å•é¡Œåœ¨æ–¼åŸºæ–¼åœ–çš„ IR è·Ÿ åŸºæ–¼ Three address çš„ IR æ˜¯æˆªç„¶ä¸åŒçš„ï¼Œå…©è€…é´»æºå¤ªå¤§å°è‡´")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("ä¸€å€‹åŸºæ–¼åœ–çš„ IR å°±è¦é‡è¤‡å¯¦ç¾ä¸åŒçš„ Three address çš„ IR è½‰åŒ–æ–¹å¼ï¼Œçµ„åˆçˆ†ç‚¸ä¸”ç„¡æ³•é‡ç”¨ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("å…©è€… IR çš„æœ€ä½³åŒ–æ–¹æ³•ä¸èƒ½é€²è¡Œçµ±ä¸€çš„æœ€ä½³åŒ–å·¥ä½œï¼Œå› ç‚ºä¸€å€‹æ˜¯è¨ˆç®—åœ–çš„æœ€ä½³åŒ–ï¼Œä¸€å€‹æ˜¯ç¨‹å¼ç¢¼çš„æœ€ä½³åŒ–ã€‚")])]),e._v(" "),r("li",[r("p",[e._v("XLA HLO ç¿»è­¯åˆ° LLVM IR ç›¸å·®å¤ªå¤šï¼Œå¯¦ç¾è½‰æ›é–‹éŠ·å¤ªå¤§ã€‚")])])]),e._v(" "),r("p",[e._v("é›–ç„¶é€™äº›çœ¾å¤šçš„ç·¨è­¯å™¨å’Œè¡¨ç¤ºå¯¦ç¾é¡¯è‘—æé«˜äº†æ€§èƒ½ï¼Œä½†æ˜¯å°æ–¼æ–°çš„è»Ÿé«”å±¤ IR æˆ–ç¡¬é«”æŒ‡ä»¤é›†æ¶æ§‹ï¼Œéœ€è¦ç‚ºæ¯ä¸€æ¢æ–°çš„è·¯å¾‘é‡æ–°å¯¦ç¾æœ€ä½³åŒ–ä»¥åŠè½‰åŒ–çš„å·¥ä½œï¼Œé™¤äº†ç„¡æ³•é‡ç”¨çš„å•é¡Œï¼Œè½‰æ›çš„å•é¡Œï¼Œæˆ‘å€‘é‚„è¦é‡å°ä¸åŒçš„è¨ˆç®—åœ– IR æ ¼å¼é€²è¡Œå„è‡ªçš„æœ€ä½³åŒ–åŠè¨­è¨ˆã€‚ï¼Œå¦‚æœä½ å° LLVM æœ‰ä¸€é»ç†Ÿæ‚‰çš„è©±ï¼Œæœƒè¦ºå¾—é€™å€‹å•é¡Œå¾ˆçœ¼ç†Ÿã€‚æ²’éŒ¯ï¼Œå°±æ˜¯å‚³çµ±ç·¨è­¯å™¨æœ‰é‡åˆ°çš„å•é¡Œï¼Œè€¦åˆæ€§å¤ªé«˜ï¼Œçµ„åˆçˆ†ç‚¸ä¸”ç„¡æ³•é‡ç”¨ï¼Œå› æ­¤ LLVM IR çš„å‡ºç¾çµ±ä¸€äº†æ­¤äº‚è±¡ï¼Œè€Œåƒç…§ LLVM IRï¼Œ MLIR å°±èª•ç”Ÿäº†ã€‚")]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"title"}),r("p",[e._v("é€™ä¸€å°ç¯€æ˜¯åƒç…§ "),r("a",{attrs:{href:"https://blog.tensorflow.org/2019/04/mlir-new-intermediate-representation.html?hl=zh-tw",target:"_blank",rel:"noopener noreferrer"}},[e._v("MLIR: A new intermediate representation and compiler framework"),r("OutboundLink")],1),e._v("ï¼Œæ–‡ä¸­æ‰€æåˆ°çš„ Hardware / software stack æŒ‡çš„æ˜¯æ·±åº¦å­¸ç¿’æ¨¡å‹å¾è»Ÿé«”å±¤åˆ°ç¡¬é«”å±¤ï¼Œå±¤å±¤çš„ç·¨è­¯ã€æœ€ä½³åŒ–ã€è½‰æ›ï¼Œå¦‚ä¸‹è¡¨ã€‚")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("åœ–ä¸€")]),e._v(" "),r("th",[e._v("åœ–äºŒ")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[r("img",{attrs:{src:"https://images.deepai.org/converted-papers/1807.04188/x2.png",width:"500",height:"300"}})]),e._v(" "),r("td",[r("img",{attrs:{src:"https://www.tensorflow.org/mlir/images/mlir-infra.svg?hl=zh-tw",width:"500",height:"300"}})])])])]),e._v(" "),r("p",[e._v("æ‰€ä»¥ç•¶æœ‰æ–°çš„è»Ÿé«”å±¤ IR ç”¢ç”Ÿï¼Œæˆ–æ˜¯æ–°çš„ç¡¬é«”æŒ‡ä»¤é›†æ¶æ§‹ç”¢ç”Ÿï¼Œå¾è¨ˆç®—åœ–é–‹å§‹åˆè¦é‡æ–°æ‰“é€ ä¸€ç³»åˆ—çš„ç·¨è­¯ã€æœ€ä½³åŒ–å·¥ä½œï¼Œé€™å€‹æˆæœ¬è‘—å¯¦å¯è§€ã€‚")])]),r("h3",{attrs:{id:"_2-4-ir-ç¾¤é›„å‰²æ“š-mlir-çµ±ä¸€å¤©ä¸‹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-ir-ç¾¤é›„å‰²æ“š-mlir-çµ±ä¸€å¤©ä¸‹"}},[e._v("#")]),e._v(" 2-4. IR ç¾¤é›„å‰²æ“šï¼ŒMLIR çµ±ä¸€å¤©ä¸‹")]),e._v(" "),r("p",[e._v("å¾åŸå§‹ç¨‹å¼ç¢¼åˆ°ç›®æ¨™ç¨‹å¼ç¢¼ï¼Œè¦ç¶“éä¸€ç³»åˆ—çš„æŠ½åƒä»¥åŠåˆ†æï¼Œé€šé Lowering Pass ä¾†å¯¦ç¾å¾ä¸€å€‹ IR åˆ°å¦ä¸€å€‹ IR çš„è½‰æ›ï¼Œé€™æ¨£çš„éç¨‹ä¸­æœƒå­˜åœ¨æœ‰äº›è¡Œç‚ºé‡è¤‡å¯¦ç¾çš„æƒ…æ³ï¼Œä¹Ÿå°±å°è‡´äº†è½‰æ›æ•ˆç‡ä½çš„å•é¡Œã€‚é€šä¿—çš„èªªï¼Œä¸åŒ IR æ²’æœ‰é»˜å¥‘ã€‚å› ç‚ºèªè¨€ä¸é€šï¼Œç‚ºäº†è§£æ±ºé€™ç¨®äº‚è±¡ï¼ŒMLIR å­¸ LLVM ä¸€æ¨£ï¼Œçµ±ä¸€äº† IRï¼Œè®“ä¸åŒçš„ IR å¯ä»¥è—‰ç”±é€™å€‹çµ±ä¸€çš„ IR ç›¸äº’ç†è§£ã€‚è€Œ MLIR åˆ©ç”¨ Dialect(æ–¹è¨€)ï¼Œè®“æ¯å€‹ IR å­¸ç¿’é€™å€‹æ–¹è¨€ï¼Œå¤§å®¶å°±å¯ä»¥é †åˆ©çš„äº’ç›¸æºé€šäº†ã€‚ å’Œ LLVM ä¸€æ¨£ï¼Œä¸€çµ±ç·¨è­¯å™¨é–‹ç™¼çš„äº‚è±¡ã€‚\n"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/53830e6875b7ef8c42829b88199c804a.png",width:"400"}})]),e._v(" "),r("p",[e._v("Dialects å°±æ˜¯ MLIR çš„æ–¹è¨€ï¼Œæˆ‘å€‘å¯ä»¥å®šç¾©å¾ˆå¤šä¸åŒçš„æ–¹è¨€ä¾†è¡¨ç¤ºä¸åŒçš„æŠ½è±¡ï¼Œä¾‹å¦‚: å…ˆæŠŠ tensorflow graph ç¿»è­¯æˆç”¨ tensorflow dialect æè¿°çš„ MLIR çš„æª”æ¡ˆã€‚å¾—åˆ° MLIR çš„æª”æ¡ˆå¾Œï¼Œtensorflow dialect å†è½‰æˆ HLO Dialectï¼Œå†é€²è¡Œé€ç´šå‘ä¸‹æŠ½è±¡ (Multi-Level çš„çœŸæ„)ï¼Œæ¯ä¸€å€‹ pass å¯ä»¥å°æŸå€‹éƒ¨åˆ†é€²è¡Œæœ€ä½³åŒ–ï¼Œå¾—åˆ° LLVMIR Dialectï¼Œæœ€å¾Œå†è½‰æ›æˆçœŸæ­£çš„ LLVM IR é€²è¡Œå¾ŒçºŒçš„è™•ç†ã€‚ä¸åŒçš„æ–¹è¨€ä¹Ÿå¯ä»¥äº’ç›¸è½‰æ›ï¼Œå› ç‚ºéƒ½æ˜¯åœ¨åŒä¸€å€‹ MLIR çš„è¦ç¯„ä¸‹ã€‚Dialectsæ˜¯å°‡æ‰€æœ‰çš„IRæ”¾åœ¨äº†åŒä¸€å€‹å‘½åç©ºé–“ä¸­ï¼Œåˆ†åˆ¥å°æ¯å€‹IRå®šç¾©å°æ‡‰çš„ç”¢ç”Ÿå¼ä»¥åŠç¶å®šç›¸æ‡‰çš„æ“ä½œï¼Œå¾è€Œç”Ÿæˆä¸€å€‹ MLIR çš„æ¨¡å‹ã€‚æ•´å€‹çš„ç·¨è­¯éç¨‹ï¼Œå¾åŸå§‹ç¨‹å¼ç¢¼ç”ŸæˆASTï¼Œå€ŸåŠ© Dialects éæ­· ASTï¼Œç”¢ç”Ÿ MLIR çš„è¡¨é”å¼ï¼Œæ­¤è™•å¯ç‚ºå¤šå±¤ IR é€šé Lowering Pass ä¾æ¬¡é€²è¡Œåˆ†æï¼Œæœ€å¾Œç¶“é MLIR åˆ†æå™¨ï¼Œç”Ÿæˆç›®æ¨™ç¨‹å¼ç¢¼ã€‚MLIR æ”¯æŒæ­¤ç¨®æ’ä»¶æ¶æ§‹ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ“´å±•å¹¾ä¹æ‰€æœ‰ MLIR åŠŸèƒ½ã€‚")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("MLIR Dialect çš„ä½œç”¨è™•")]),e._v(" "),r("th",[e._v("MLIR Dialect æµç¨‹åœ–")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[r("img",{attrs:{src:"https://pic2.zhimg.com/80/v2-1d829a657ad5a37844b5db50a55136bd_1440w.jpg",width:"500"}})]),e._v(" "),r("td",[r("img",{attrs:{src:"https://i.imgur.com/0RykBf2.png",width:"500"}})])])])]),e._v(" "),r("h3",{attrs:{id:"_2-5-åƒè€ƒé€£çµ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-åƒè€ƒé€£çµ"}},[e._v("#")]),e._v(" 2-5. åƒè€ƒé€£çµ")]),e._v(" "),r("ol",[r("li",[r("p",[r("a",{attrs:{href:"https://mlir.llvm.org/getting_started/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MLIR å®˜æ–¹ç¶²ç«™"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://mlir.llvm.org/docs/Tutorials/Toy/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Toy MLIR Tutorial"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://llvm.org/devmtg/2020-09/slides/MLIR_Tutorial.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("MLIR Tutorial"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/101879367",target:"_blank",rel:"noopener noreferrer"}},[e._v("åˆè¦‹MLIR"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://ithelp.ithome.com.tw/articles/10216085",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¡ç¥ç¶“ç¶²è·¯å’Œè¨ˆç®—åœ–èªè¨€"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://vocus.cc/girlsletscode/5b83fadffd89780001393246",target:"_blank",rel:"noopener noreferrer"}},[e._v("ç¾è¡Œæ·±åº¦å­¸ç¿’æ¶æ§‹æ¦‚æ³"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://d3lm.medium.com/understand-tensorflow-by-mimicking-its-api-from-scratch-faa55787170d",target:"_blank",rel:"noopener noreferrer"}},[e._v("Understand TensorFlow by mimicking its API from scratch"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://www.youtube.com/watch?v=kAOanJczHA0",target:"_blank",rel:"noopener noreferrer"}},[e._v("XLA: TensorFlow, Compiled! (TensorFlow Dev Summit 2017) (æœ‰ä¸­æ–‡å­—å¹•)"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://www.slideshare.net/teyenliu/tensor-flow-studyingpart-i",target:"_blank",rel:"noopener noreferrer"}},[e._v("TensorFlow Study Part I"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/102212806",target:"_blank",rel:"noopener noreferrer"}},[e._v("MLIRçš„æ³•å¯¶ï¼šDialects"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://blog.csdn.net/weixin_39950552/article/details/112583205",target:"_blank",rel:"noopener noreferrer"}},[e._v("MLIR ä¸€ç¨®æ–°çš„IRè¡¨ç¤ºå’Œç·¨è­¯å™¨æ¡†æ¶"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://www.lewuathe.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("The First Cry of Atom"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://space.bilibili.com/273391839",target:"_blank",rel:"noopener noreferrer"}},[e._v("MLIR deep compiler"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[e._v("bilibili ä»‹ç´¹å½±ç‰‡")]),e._v(" "),r("ul",[r("li",[r("p",[r("a",{attrs:{href:"https://www.bilibili.com/video/BV1kv411s7Tp",target:"_blank",rel:"noopener noreferrer"}},[e._v("ä¸­ç§‘å¤§ã€Šç·¨è­¯åŸç†å’ŒæŠ€è¡“Hã€‹G4-MLIR Toyçš„ç†è§£-20210129åŒ¯å ±"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://www.bilibili.com/video/BV1Tt4y1B7Pp/?spm_id_from=333.788.recommend_more_video.2",target:"_blank",rel:"noopener noreferrer"}},[e._v("ä¸­ç§‘å¤§ã€Šç·¨è­¯åŸç†å’ŒæŠ€è¡“Hã€‹G5-MLIR Toyçš„ç†è§£èˆ‡å¯¦è¸-20210129åŒ¯å ±"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://www.bilibili.com/video/BV1hz4y1m7Cu/?spm_id_from=333.788.recommend_more_video.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("ä¸­ç§‘å¤§ã€Šç·¨è­¯åŸç†å’ŒæŠ€è¡“Hã€‹G7-MLIR Toyçš„ç†è§£-20210129åŒ¯å ±"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://www.bilibili.com/video/BV1UV411U7Nk?from=search&seid=9114654156912612045",target:"_blank",rel:"noopener noreferrer"}},[e._v("å¼µæ´ªæ¿±- MLIRåŠå…¶ç·¨è­¯éç¨‹èˆ‡æ‡‰ç”¨åˆ†äº«- OSDTæŠ€è¡“è¨è«–æœƒ- 20200823"),r("OutboundLink")],1)])])])])])])}),[],!1,null,null,null);t.default=a.exports}}]);